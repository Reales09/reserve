{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/infrastructure/actions/reservations.actions.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface ReservationData {\n  clientId: number;\n  tableId: number;\n  businessId: number;\n  reservationDate: string;\n  reservationTime: string;\n  numberOfGuests: number;\n  notes?: string;\n  status: string;\n}\n\nexport interface ReservationFilters {\n  page?: number;\n  pageSize?: number;\n  startDate?: string;\n  endDate?: string;\n  status?: string;\n}\n\nexport async function getReservationsAction(filters: ReservationFilters = {}): Promise<{ success: boolean; data?: any[]; total?: number; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Construir query params\n    const params = new URLSearchParams();\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.pageSize) params.append('page_size', filters.pageSize.toString());\n    if (filters.startDate) params.append('start_date', filters.startDate);\n    if (filters.endDate) params.append('end_date', filters.endDate);\n    if (filters.status) params.append('status', filters.status);\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves?${params.toString()}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reservas'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data || [],\n      total: data.total || 0\n    };\n  } catch (error) {\n    console.error('Get reservations action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function getReservationByIdAction(id: number): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n  } catch (error) {\n    console.error('Get reservation by ID action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function createReservationAction(reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    console.log('üîç [SERVER] createReservationAction iniciado...');\n    \n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      console.log('‚ùå [SERVER] No hay token, retornando error de autorizaci√≥n');\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Debug: ver qu√© datos se est√°n enviando\n    const dataToSend = Object.fromEntries(reservationData);\n    console.log('üì§ [SERVER] Datos a enviar:', dataToSend);\n    console.log('üìÖ [SERVER] Fechas espec√≠ficas:', {\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      start_at_type: typeof dataToSend.start_at,\n      end_at_type: typeof dataToSend.end_at\n    });\n    \n    // Convertir tipos correctamente para el backend\n    const processedData = {\n      // Mapear campos del frontend a los que espera el backend\n      name: dataToSend.cliente_nombre,\n      email: dataToSend.cliente_email,\n      phone: dataToSend.cliente_telefono,\n      dni: dataToSend.cliente_dni || null,\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      number_of_guests: parseInt(dataToSend.number_of_guests as string, 10) || 0,\n      table_id: parseInt(dataToSend.mesa_id as string, 10) || 0,\n      business_id: parseInt(dataToSend.restaurante_id as string, 10) || 0\n    };\n    \n    console.log('üî¢ [SERVER] Datos procesados con tipos correctos:', processedData);\n    console.log('üåê [SERVER] Llamando al backend para crear reserva:', `${getApiBaseUrl()}/api/v1/reserves`);\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(processedData),\n    });\n\n    console.log('üì° [SERVER] Respuesta del backend (create):', response.status, response.statusText);\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      console.log('‚ùå [SERVER] Error del backend al crear reserva:', errorData);\n      return {\n        success: false,\n        message: errorData.message || 'Error al crear reserva'\n      };\n    }\n\n    const data = await response.json();\n    console.log('‚úÖ [SERVER] Reserva creada exitosamente del backend');\n    console.log('üìä [SERVER] Datos de respuesta:', data);\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('üí• [SERVER] Error en createReservationAction:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationAction(id: number, reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(Object.fromEntries(reservationData)),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationStatusAction(id: number, status: string): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}/status`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ status }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar estado'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation status action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAwBsB,wBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/infrastructure/actions/reservations.actions.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface ReservationData {\n  clientId: number;\n  tableId: number;\n  businessId: number;\n  reservationDate: string;\n  reservationTime: string;\n  numberOfGuests: number;\n  notes?: string;\n  status: string;\n}\n\nexport interface ReservationFilters {\n  page?: number;\n  pageSize?: number;\n  startDate?: string;\n  endDate?: string;\n  status?: string;\n}\n\nexport async function getReservationsAction(filters: ReservationFilters = {}): Promise<{ success: boolean; data?: any[]; total?: number; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Construir query params\n    const params = new URLSearchParams();\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.pageSize) params.append('page_size', filters.pageSize.toString());\n    if (filters.startDate) params.append('start_date', filters.startDate);\n    if (filters.endDate) params.append('end_date', filters.endDate);\n    if (filters.status) params.append('status', filters.status);\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves?${params.toString()}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reservas'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data || [],\n      total: data.total || 0\n    };\n  } catch (error) {\n    console.error('Get reservations action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function getReservationByIdAction(id: number): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n  } catch (error) {\n    console.error('Get reservation by ID action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function createReservationAction(reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    console.log('üîç [SERVER] createReservationAction iniciado...');\n    \n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      console.log('‚ùå [SERVER] No hay token, retornando error de autorizaci√≥n');\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Debug: ver qu√© datos se est√°n enviando\n    const dataToSend = Object.fromEntries(reservationData);\n    console.log('üì§ [SERVER] Datos a enviar:', dataToSend);\n    console.log('üìÖ [SERVER] Fechas espec√≠ficas:', {\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      start_at_type: typeof dataToSend.start_at,\n      end_at_type: typeof dataToSend.end_at\n    });\n    \n    // Convertir tipos correctamente para el backend\n    const processedData = {\n      // Mapear campos del frontend a los que espera el backend\n      name: dataToSend.cliente_nombre,\n      email: dataToSend.cliente_email,\n      phone: dataToSend.cliente_telefono,\n      dni: dataToSend.cliente_dni || null,\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      number_of_guests: parseInt(dataToSend.number_of_guests as string, 10) || 0,\n      table_id: parseInt(dataToSend.mesa_id as string, 10) || 0,\n      business_id: parseInt(dataToSend.restaurante_id as string, 10) || 0\n    };\n    \n    console.log('üî¢ [SERVER] Datos procesados con tipos correctos:', processedData);\n    console.log('üåê [SERVER] Llamando al backend para crear reserva:', `${getApiBaseUrl()}/api/v1/reserves`);\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(processedData),\n    });\n\n    console.log('üì° [SERVER] Respuesta del backend (create):', response.status, response.statusText);\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      console.log('‚ùå [SERVER] Error del backend al crear reserva:', errorData);\n      return {\n        success: false,\n        message: errorData.message || 'Error al crear reserva'\n      };\n    }\n\n    const data = await response.json();\n    console.log('‚úÖ [SERVER] Reserva creada exitosamente del backend');\n    console.log('üìä [SERVER] Datos de respuesta:', data);\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('üí• [SERVER] Error en createReservationAction:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationAction(id: number, reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(Object.fromEntries(reservationData)),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationStatusAction(id: number, status: string): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}/status`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ status }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar estado'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation status action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAmHsB,0BAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/infrastructure/actions/reservations.actions.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface ReservationData {\n  clientId: number;\n  tableId: number;\n  businessId: number;\n  reservationDate: string;\n  reservationTime: string;\n  numberOfGuests: number;\n  notes?: string;\n  status: string;\n}\n\nexport interface ReservationFilters {\n  page?: number;\n  pageSize?: number;\n  startDate?: string;\n  endDate?: string;\n  status?: string;\n}\n\nexport async function getReservationsAction(filters: ReservationFilters = {}): Promise<{ success: boolean; data?: any[]; total?: number; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Construir query params\n    const params = new URLSearchParams();\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.pageSize) params.append('page_size', filters.pageSize.toString());\n    if (filters.startDate) params.append('start_date', filters.startDate);\n    if (filters.endDate) params.append('end_date', filters.endDate);\n    if (filters.status) params.append('status', filters.status);\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves?${params.toString()}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reservas'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data || [],\n      total: data.total || 0\n    };\n  } catch (error) {\n    console.error('Get reservations action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function getReservationByIdAction(id: number): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n  } catch (error) {\n    console.error('Get reservation by ID action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function createReservationAction(reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    console.log('üîç [SERVER] createReservationAction iniciado...');\n    \n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      console.log('‚ùå [SERVER] No hay token, retornando error de autorizaci√≥n');\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Debug: ver qu√© datos se est√°n enviando\n    const dataToSend = Object.fromEntries(reservationData);\n    console.log('üì§ [SERVER] Datos a enviar:', dataToSend);\n    console.log('üìÖ [SERVER] Fechas espec√≠ficas:', {\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      start_at_type: typeof dataToSend.start_at,\n      end_at_type: typeof dataToSend.end_at\n    });\n    \n    // Convertir tipos correctamente para el backend\n    const processedData = {\n      // Mapear campos del frontend a los que espera el backend\n      name: dataToSend.cliente_nombre,\n      email: dataToSend.cliente_email,\n      phone: dataToSend.cliente_telefono,\n      dni: dataToSend.cliente_dni || null,\n      start_at: dataToSend.start_at,\n      end_at: dataToSend.end_at,\n      number_of_guests: parseInt(dataToSend.number_of_guests as string, 10) || 0,\n      table_id: parseInt(dataToSend.mesa_id as string, 10) || 0,\n      business_id: parseInt(dataToSend.restaurante_id as string, 10) || 0\n    };\n    \n    console.log('üî¢ [SERVER] Datos procesados con tipos correctos:', processedData);\n    console.log('üåê [SERVER] Llamando al backend para crear reserva:', `${getApiBaseUrl()}/api/v1/reserves`);\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(processedData),\n    });\n\n    console.log('üì° [SERVER] Respuesta del backend (create):', response.status, response.statusText);\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      console.log('‚ùå [SERVER] Error del backend al crear reserva:', errorData);\n      return {\n        success: false,\n        message: errorData.message || 'Error al crear reserva'\n      };\n    }\n\n    const data = await response.json();\n    console.log('‚úÖ [SERVER] Reserva creada exitosamente del backend');\n    console.log('üìä [SERVER] Datos de respuesta:', data);\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('üí• [SERVER] Error en createReservationAction:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationAction(id: number, reservationData: FormData): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(Object.fromEntries(reservationData)),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar reserva'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n}\n\nexport async function updateReservationStatusAction(id: number, status: string): Promise<{ success: boolean; data?: any; message?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    // Llamada a la API desde el servidor\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/reserves/${id}/status`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ status }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al actualizar estado'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data\n    };\n\n  } catch (error) {\n    console.error('Update reservation status action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAkPsB,gCAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/hooks/useReservations.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { getReservationsAction } from '@/services/reservations/infrastructure/actions/reservations.actions';\nimport { Reservation, CreateReservationData, UpdateReservationStatusData, ReservationFilters } from '@/services/reservations/domain/entities/Reservation';\nimport { createReservationAction } from '@/services/reservations/infrastructure/actions/reservations.actions';\nimport { updateReservationStatusAction } from '@/services/reservations/infrastructure/actions/reservations.actions';\n\nexport const useReservations = () => {\n  const [reservations, setReservations] = useState<Reservation[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [total, setTotal] = useState(0);\n  const [filters, setFilters] = useState<ReservationFilters>({});\n\n  // Helper function para formatear fechas correctamente para el backend\n  const formatDateForBackend = (date: Date): string => {\n    // El backend espera formato: \"2025-08-18T17:00:00Z\"\n    // Asegurarnos de que tenga segundos y zona horaria\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const seconds = String(date.getSeconds()).padStart(2, '0');\n    \n    return `${year}-${month}-${day}T${hours}:${minutes}:${seconds}Z`;\n  };\n\n  // Fetch reservations using Server Action\n  const fetchReservations = useCallback(async (filterParams: ReservationFilters = {}) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('üîç [useReservations] Llamando a getReservationsAction...');\n      const result = await getReservationsAction(filterParams);\n      console.log('‚úÖ [useReservations] Resultado recibido:', result);\n      \n      if (result.success) {\n        // Convertir las fechas de string a Date\n        const reservationsWithDates = (result.data || []).map((reservation: any) => ({\n          ...reservation,\n          start_at: new Date(reservation.start_at),\n          end_at: new Date(reservation.end_at),\n          reserva_creada: new Date(reservation.reserva_creada),\n          reserva_actualizada: new Date(reservation.reserva_actualizada),\n          status_history: reservation.status_history?.map((history: any) => ({\n            ...history,\n            changed_at: new Date(history.changed_at)\n          })) || []\n        }));\n\n        setReservations(reservationsWithDates);\n        setTotal(result.total || 0);\n        setFilters(filterParams);\n        console.log('‚úÖ [useReservations] Reservas cargadas:', reservationsWithDates.length);\n      } else {\n        setError(result.message || 'Error desconocido al cargar reservas');\n        setReservations([]);\n        setTotal(0);\n        console.log('‚ùå [useReservations] Error al cargar reservas:', result.message);\n      }\n    } catch (err) {\n      console.error('‚ùå [useReservations] Error en fetchReservations:', err);\n      setError(err instanceof Error ? err.message : 'Error de conexi√≥n con el servidor');\n      setReservations([]);\n      setTotal(0);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Create new reservation (placeholder - implementar cuando se necesite)\n  const createReservation = useCallback(async (reservationData: CreateReservationData) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('üîç [useReservations] Llamando a createReservationAction...');\n      console.log('üì§ [useReservations] Datos a enviar:', reservationData);\n      console.log('üîç [useReservations] Tipos de datos:', {\n        number_of_guests: { value: reservationData.number_of_guests, type: typeof reservationData.number_of_guests },\n        mesa_id: { value: reservationData.mesa_id, type: typeof reservationData.mesa_id },\n        restaurante_id: { value: reservationData.restaurante_id, type: typeof reservationData.restaurante_id },\n        start_at: { value: reservationData.start_at, type: typeof reservationData.start_at },\n        end_at: { value: reservationData.end_at, type: typeof reservationData.end_at }\n      });\n      \n      // Convertir CreateReservationData a FormData para el Server Action\n      const formData = new FormData();\n      Object.entries(reservationData).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          if (value instanceof Date) {\n            // Usar el formato correcto para el backend\n            const formattedDate = formatDateForBackend(value);\n            console.log(`üìÖ [useReservations] Fecha formateada para ${key}:`, {\n              original: value,\n              formatted: formattedDate\n            });\n            formData.append(key, formattedDate);\n          } else if (typeof value === 'string' && (key === 'start_at' || key === 'end_at')) {\n            // Si es un string de fecha, convertirlo al formato correcto\n            try {\n              const dateValue = new Date(value);\n              if (!isNaN(dateValue.getTime())) {\n                const formattedDate = formatDateForBackend(dateValue);\n                console.log(`üìÖ [useReservations] Fecha string convertida para ${key}:`, {\n                  original: value,\n                  converted: dateValue,\n                  formatted: formattedDate\n                });\n                formData.append(key, formattedDate);\n              } else {\n                console.log(`‚ö†Ô∏è [useReservations] Fecha inv√°lida para ${key}:`, value);\n                formData.append(key, value);\n              }\n            } catch (error) {\n              console.log(`‚ö†Ô∏è [useReservations] Error convirtiendo fecha para ${key}:`, error);\n              formData.append(key, value);\n            }\n          } else {\n            // Los dem√°s campos ya vienen con el tipo correcto\n            formData.append(key, value.toString());\n          }\n        }\n      });\n      \n      const result = await createReservationAction(formData);\n      console.log('‚úÖ [useReservations] Resultado de creaci√≥n:', result);\n      \n      if (result.success && result.data) {\n        const newReservation = result.data;\n        // Convertir las fechas de string a Date\n        const reservationWithDates = {\n          ...newReservation,\n          start_at: new Date(newReservation.start_at),\n          end_at: new Date(newReservation.end_at),\n          reserva_creada: new Date(newReservation.reserva_creada),\n          reserva_actualizada: new Date(newReservation.reserva_actualizada),\n          status_history: newReservation.status_history?.map((history: any) => ({\n            ...history,\n            changed_at: new Date(history.changed_at)\n          })) || []\n        };\n        \n        setReservations(prev => [reservationWithDates, ...prev]);\n        setTotal(prev => prev + 1);\n        console.log('‚úÖ [useReservations] Reserva creada exitosamente');\n        return { success: true, message: 'Reserva creada exitosamente', data: reservationWithDates };\n      } else {\n        const errorMsg = result.message || 'Error al crear reserva';\n        setError(errorMsg);\n        console.log('‚ùå [useReservations] Error al crear reserva:', errorMsg);\n        return { success: false, error: errorMsg };\n      }\n    } catch (err: any) {\n      console.error('‚ùå [useReservations] Error en createReservation:', err);\n      const errorMsg = err.message || 'Error de conexi√≥n';\n      setError(errorMsg);\n      return { success: false, error: errorMsg };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Cancel reservation (placeholder - implementar cuando se necesite)\n  const cancelReservation = useCallback(async (reservationId: number) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('üîç [useReservations] Llamando a updateReservationStatusAction...');\n      console.log('üì§ [useReservations] Cancelando reserva ID:', reservationId);\n      \n      // Por ahora usamos updateReservationStatusAction para cancelar\n      // TODO: Implementar cancelReservationAction si existe en el backend\n      const result = await updateReservationStatusAction(reservationId, 'cancelled');\n      console.log('‚úÖ [useReservations] Resultado de cancelaci√≥n:', result);\n      \n      if (result.success && result.data) {\n        const updatedReservation = result.data;\n        // Convertir las fechas de string a Date\n        const reservationWithDates = {\n          ...updatedReservation,\n          start_at: new Date(updatedReservation.start_at),\n          end_at: new Date(updatedReservation.end_at),\n          reserva_creada: new Date(updatedReservation.reserva_creada),\n          reserva_actualizada: new Date(updatedReservation.reserva_actualizada),\n          status_history: updatedReservation.status_history?.map((history: any) => ({\n            ...history,\n            changed_at: new Date(history.changed_at)\n          })) || []\n        };\n        \n        // Actualizar la reserva en el estado local\n        setReservations(prev => prev.map(reservation => \n          reservation.reserva_id === reservationId ? reservationWithDates : reservation\n        ));\n        \n        console.log('‚úÖ [useReservations] Reserva cancelada exitosamente');\n        return { success: true, message: 'Reserva cancelada exitosamente' };\n      } else {\n        const errorMsg = result.message || 'Error al cancelar reserva';\n        setError(errorMsg);\n        console.log('‚ùå [useReservations] Error al cancelar reserva:', errorMsg);\n        return { success: false, error: errorMsg };\n      }\n    } catch (err: any) {\n      console.error('‚ùå [useReservations] Error en cancelReservation:', err);\n      const errorMsg = err.message || 'Error de conexi√≥n';\n      setError(errorMsg);\n      return { success: false, error: errorMsg };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Update reservation status (placeholder - implementar cuando se necesite)\n  const updateReservationStatus = useCallback(async (data: UpdateReservationStatusData) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('üîç [useReservations] Llamando a updateReservationStatusAction...');\n      console.log('üì§ [useReservations] Actualizando estado de reserva:', data);\n      \n      const result = await updateReservationStatusAction(data.reserva_id, data.status);\n      console.log('‚úÖ [useReservations] Resultado de actualizaci√≥n de estado:', result);\n      \n      if (result.success && result.data) {\n        const updatedReservation = result.data;\n        // Convertir las fechas de string a Date\n        const reservationWithDates = {\n          ...updatedReservation,\n          start_at: new Date(updatedReservation.start_at),\n          end_at: new Date(updatedReservation.end_at),\n          reserva_creada: new Date(updatedReservation.reserva_creada),\n          reserva_actualizada: new Date(updatedReservation.reserva_actualizada),\n          status_history: updatedReservation.status_history?.map((history: any) => ({\n            ...history,\n            changed_at: new Date(history.changed_at)\n          })) || []\n        };\n        \n        // Actualizar la reserva en el estado local\n        setReservations(prev => prev.map(reservation => \n          reservation.reserva_id === data.reserva_id ? reservationWithDates : reservation\n        ));\n        \n        console.log('‚úÖ [useReservations] Estado de reserva actualizado exitosamente');\n        return { success: true, message: 'Estado actualizado exitosamente' };\n      } else {\n        const errorMsg = result.message || 'Error al actualizar estado';\n        setError(errorMsg);\n        console.log('‚ùå [useReservations] Error al actualizar estado:', errorMsg);\n        return { success: false, error: errorMsg };\n      }\n    } catch (err: any) {\n      console.error('‚ùå [useReservations] Error en updateReservationStatus:', err);\n      const errorMsg = err.message || 'Error de conexi√≥n';\n      setError(errorMsg);\n      return { success: false, error: errorMsg };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Apply filters\n  const applyFilters = useCallback((newFilters: ReservationFilters) => {\n    fetchReservations(newFilters);\n  }, [fetchReservations]);\n\n  // Clear filters\n  const clearFilters = useCallback(() => {\n    fetchReservations({});\n  }, [fetchReservations]);\n\n  // Get reservations for a specific date\n  const getReservationsForDate = useCallback((date: Date): Reservation[] => {\n    return reservations.filter(reservation => {\n      const reservationDate = new Date(reservation.start_at);\n      return reservationDate.toDateString() === date.toDateString();\n    });\n  }, [reservations]);\n\n  // Utility methods for status\n  const getStatusName = useCallback((status: string): string => {\n    const statusMap: Record<string, string> = {\n      'pending': 'Pendiente',\n      'confirmed': 'Confirmada',\n      'cancelled': 'Cancelada',\n      'completed': 'Completada'\n    };\n    return statusMap[status] || status;\n  }, []);\n\n  const getStatusColor = useCallback((status: string): string => {\n    const colorMap: Record<string, string> = {\n      'pending': 'text-yellow-600',\n      'confirmed': 'text-green-600',\n      'cancelled': 'text-red-600',\n      'completed': 'text-blue-600'\n    };\n    return colorMap[status] || 'text-gray-600';\n  }, []);\n\n  const getStatusIcon = useCallback((status: string): string => {\n    const iconMap: Record<string, string> = {\n      'pending': '‚è≥',\n      'confirmed': '‚úÖ',\n      'cancelled': '‚ùå',\n      'completed': 'üéâ'\n    };\n    return iconMap[status] || '‚ùì';\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    console.log('üöÄ [useReservations] Hook montado, cargando reservas...');\n    console.log('üîç [useReservations] Estado inicial:', {\n      loading,\n      error,\n      reservationsCount: reservations.length,\n      total\n    });\n    fetchReservations();\n  }, [fetchReservations]);\n\n  return {\n    reservations: Array.isArray(reservations) ? reservations : [], // Always ensure array\n    loading,\n    error,\n    total,\n    filters,\n    fetchReservations,\n    createReservation,\n    cancelReservation,\n    updateReservationStatus,\n    applyFilters,\n    clearFilters,\n    getReservationsForDate,\n    // Utility methods\n    getStatusName,\n    getStatusColor,\n    getStatusIcon\n  };\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/shared/ui/components/ModalBase/ModalBase.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport './ModalBase.css';\n\ninterface ModalBaseProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children?: React.ReactNode;\n  actions?: React.ReactNode;\n  className?: string;\n}\n\nconst ModalBase: React.FC<ModalBaseProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  actions,\n  className = '',\n}) => {\n  if (!isOpen) return null;\n\n  const handleOverlayClick = (e: React.MouseEvent) => {\n    // Solo prevenir si es exactamente el overlay, no sus hijos\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleContainerClick = (e: React.MouseEvent) => {\n    // Prevenir que el click en el contenedor cierre el modal\n    e.stopPropagation();\n  };\n\n  const handleCloseClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onClose();\n  };\n\n  return (\n    <div className=\"modal-base-overlay\" onClick={handleOverlayClick}>\n      <div className={`modal-container-base ${className}`} onClick={handleContainerClick}>\n        <div className=\"modal-header\">\n          <h2>{title}</h2>\n          <button type=\"button\" className=\"modal-close-btn\" onClick={handleCloseClick}>‚úï</button>\n        </div>\n        <div className=\"modal-content\">\n          {children}\n          {actions && (\n            <div className=\"modal-actions\">\n              {actions}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalBase; "],"names":[],"mappings":";;;;AAAA;;;AAcA,MAAM,YAAsC,CAAC,EAC3C,MAAM,EACN,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,EACP,YAAY,EAAE,EACf;IACC,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,qBAAqB,CAAC;QAC1B,2DAA2D;QAC3D,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC;QACF;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,yDAAyD;QACzD,EAAE,eAAe;IACnB;IAEA,MAAM,mBAAmB,CAAC;QACxB,EAAE,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAqB,SAAS;kBAC3C,cAAA,8OAAC;YAAI,WAAW,CAAC,qBAAqB,EAAE,WAAW;YAAE,SAAS;;8BAC5D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAI;;;;;;sCACL,8OAAC;4BAAO,MAAK;4BAAS,WAAU;4BAAkB,SAAS;sCAAkB;;;;;;;;;;;;8BAE/E,8OAAC;oBAAI,WAAU;;wBACZ;wBACA,yBACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAOf;uCAEe","debugId":null}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/shared/ui/components/ErrorMessage/ErrorMessage.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport './ErrorMessage.css';\n\nexport interface ErrorMessageProps {\n  message: string;\n  title?: string;\n  variant?: 'error' | 'warning' | 'info';\n  dismissible?: boolean;\n  onDismiss?: () => void;\n  className?: string;\n}\n\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({\n  message,\n  title,\n  variant = 'error',\n  dismissible = false,\n  onDismiss,\n  className = ''\n}) => {\n  const getIcon = () => {\n    switch (variant) {\n      case 'error':\n        return (\n          <svg className=\"error-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n      case 'warning':\n        return (\n          <svg className=\"error-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n          </svg>\n        );\n      case 'info':\n        return (\n          <svg className=\"error-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n    }\n  };\n\n  const defaultTitle = {\n    error: 'Error',\n    warning: 'Advertencia',\n    info: 'Informaci√≥n'\n  };\n\n  const variantClass = `${variant}-variant`;\n\n  return (\n    <div className={`error-message ${variantClass} animate-fadeIn ${className}`}>\n      <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n        <div style={{ flexShrink: 0 }}>\n          {getIcon()}\n        </div>\n        <div style={{ marginLeft: '0.75rem', flex: 1 }}>\n          <h4 className=\"error-title\">\n            {title || defaultTitle[variant]}\n          </h4>\n          <p className=\"error-text\">{message}</p>\n        </div>\n        {dismissible && onDismiss && (\n          <div style={{ marginLeft: 'auto', paddingLeft: '0.75rem' }}>\n            <button\n              type=\"button\"\n              onClick={onDismiss}\n              className=\"close-button\"\n            >\n              <span style={{ position: 'absolute', width: '1px', height: '1px', padding: 0, margin: '-1px', overflow: 'hidden', clip: 'rect(0, 0, 0, 0)', whiteSpace: 'nowrap', border: 0 }}>Cerrar</span>\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ErrorMessage; "],"names":[],"mappings":";;;;AAAA;;;AAcA,MAAM,eAA4C,CAAC,EACjD,OAAO,EACP,KAAK,EACL,UAAU,OAAO,EACjB,cAAc,KAAK,EACnB,SAAS,EACT,YAAY,EAAE,EACf;IACC,MAAM,UAAU;QACd,OAAQ;YACN,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAa,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACpE,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;YAG3E,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAa,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACpE,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;YAG3E,KAAK;gBACH,qBACE,8OAAC;oBAAI,WAAU;oBAAa,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACpE,cAAA,8OAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;QAG7E;IACF;IAEA,MAAM,eAAe;QACnB,OAAO;QACP,SAAS;QACT,MAAM;IACR;IAEA,MAAM,eAAe,GAAG,QAAQ,QAAQ,CAAC;IAEzC,qBACE,8OAAC;QAAI,WAAW,CAAC,cAAc,EAAE,aAAa,gBAAgB,EAAE,WAAW;kBACzE,cAAA,8OAAC;YAAI,OAAO;gBAAE,SAAS;gBAAQ,YAAY;YAAa;;8BACtD,8OAAC;oBAAI,OAAO;wBAAE,YAAY;oBAAE;8BACzB;;;;;;8BAEH,8OAAC;oBAAI,OAAO;wBAAE,YAAY;wBAAW,MAAM;oBAAE;;sCAC3C,8OAAC;4BAAG,WAAU;sCACX,SAAS,YAAY,CAAC,QAAQ;;;;;;sCAEjC,8OAAC;4BAAE,WAAU;sCAAc;;;;;;;;;;;;gBAE5B,eAAe,2BACd,8OAAC;oBAAI,OAAO;wBAAE,YAAY;wBAAQ,aAAa;oBAAU;8BACvD,cAAA,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;;0CAEV,8OAAC;gCAAK,OAAO;oCAAE,UAAU;oCAAY,OAAO;oCAAO,QAAQ;oCAAO,SAAS;oCAAG,QAAQ;oCAAQ,UAAU;oCAAU,MAAM;oCAAoB,YAAY;oCAAU,QAAQ;gCAAE;0CAAG;;;;;;0CAC/K,8OAAC;gCAAI,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAC7C,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrF;uCAEe","debugId":null}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/components/CreateReservationModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { CreateReservationData } from '@/services/reservations/domain/entities/Reservation';\nimport ModalBase from '@/shared/ui/components/ModalBase/ModalBase';\nimport ErrorMessage from '@/shared/ui/components/ErrorMessage/ErrorMessage';\nimport './CreateReservationModal.css';\n\ninterface CreateReservationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: CreateReservationData) => Promise<any>;\n  loading: boolean;\n  initialDate?: Date | null;\n}\n\nconst CreateReservationModal: React.FC<CreateReservationModalProps> = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  loading,\n  initialDate\n}) => {\n  const [formData, setFormData] = useState<CreateReservationData>({\n    cliente_nombre: '',\n    cliente_email: '',\n    cliente_telefono: '',\n    cliente_dni: '',\n    start_at: '',\n    end_at: '',\n    number_of_guests: 1,\n    mesa_id: 1,\n    restaurante_id: 1\n  });\n\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [apiError, setApiError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (initialDate) {\n      const startTime = new Date(initialDate);\n      startTime.setHours(12, 0, 0, 0); // 12:00 PM por defecto\n      \n      const endTime = new Date(initialDate);\n      endTime.setHours(14, 0, 0, 0); // 2:00 PM por defecto\n\n      setFormData(prev => ({\n        ...prev,\n        start_at: startTime.toISOString().slice(0, 16), // Formato YYYY-MM-DDTHH:MM\n        end_at: endTime.toISOString().slice(0, 16)\n      }));\n    }\n  }, [initialDate]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target;\n    \n    // Convertir el valor al tipo correcto seg√∫n el campo\n    let processedValue: any = value;\n    \n    if (name === 'number_of_guests' || name === 'mesa_id' || name === 'restaurante_id') {\n      // Campos num√©ricos\n      processedValue = parseInt(value, 10) || 0;\n      console.log(`üî¢ [CreateReservationModal] Campo num√©rico convertido: ${name}`, {\n        original: value,\n        converted: processedValue,\n        type: typeof processedValue\n      });\n    } else if (name === 'start_at' || name === 'end_at') {\n      // Campos de fecha (mantener como string para el input)\n      processedValue = value;\n    } else {\n      // Campos de texto\n      processedValue = value;\n    }\n    \n    setFormData(prev => ({\n      ...prev,\n      [name]: processedValue\n    }));\n\n    // Limpiar error del campo\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    if (!formData.cliente_nombre.trim()) {\n      newErrors.cliente_nombre = 'El nombre del cliente es requerido';\n    }\n\n    if (!formData.cliente_email.trim()) {\n      newErrors.cliente_email = 'El email del cliente es requerido';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.cliente_email)) {\n      newErrors.cliente_email = 'El email no es v√°lido';\n    }\n\n    if (!formData.cliente_telefono.trim()) {\n      newErrors.cliente_telefono = 'El tel√©fono del cliente es requerido';\n    }\n\n    if (!formData.start_at) {\n      newErrors.start_at = 'La fecha y hora de inicio es requerida';\n    }\n\n    if (!formData.end_at) {\n      newErrors.end_at = 'La fecha y hora de fin es requerida';\n    }\n\n    if (formData.start_at && formData.end_at) {\n      const startDate = new Date(formData.start_at);\n      const endDate = new Date(formData.end_at);\n      \n      if (startDate >= endDate) {\n        newErrors.end_at = 'La hora de fin debe ser posterior a la hora de inicio';\n      }\n    }\n\n    if (formData.number_of_guests <= 0) {\n      newErrors.number_of_guests = 'El n√∫mero de invitados debe ser mayor a 0';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setApiError(null);\n    try {\n      // Debug: ver qu√© datos se est√°n enviando\n      console.log('üîç [CreateReservationModal] Datos del formulario antes de enviar:', formData);\n      console.log('üîç [CreateReservationModal] Tipos de datos:', {\n        number_of_guests: { value: formData.number_of_guests, type: typeof formData.number_of_guests },\n        mesa_id: { value: formData.mesa_id, type: typeof formData.mesa_id },\n        restaurante_id: { value: formData.restaurante_id, type: typeof formData.restaurante_id },\n        start_at: { value: formData.start_at, type: typeof formData.start_at },\n        end_at: { value: formData.end_at, type: typeof formData.end_at }\n      });\n      \n      // Enviar los datos directamente con tipos correctos\n      // NO usar FormData HTML que convierte todo a strings\n      await onSubmit(formData);\n      onClose();\n      // Reset form\n      setFormData({\n        cliente_nombre: '',\n        cliente_email: '',\n        cliente_telefono: '',\n        cliente_dni: '',\n        start_at: '',\n        end_at: '',\n        number_of_guests: 1,\n        mesa_id: 1,\n        restaurante_id: 1,\n      });\n      setErrors({});\n    } catch (error: any) {\n      const msg =\n        error?.response?.data?.message ||\n        error?.message ||\n        'Ocurri√≥ un error al crear la reserva';\n      setApiError(msg);\n      console.error('Error al crear reserva:', error);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <ModalBase\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"üìÖ Crear Nueva Reserva\"\n      actions={\n        <>\n          <button\n            type=\"button\"\n            className=\"btn-cancel\"\n            onClick={onClose}\n            disabled={loading}\n          >\n            Cancelar\n          </button>\n          <button\n            type=\"submit\"\n            form=\"reservation-form\"\n            className=\"btn-submit\"\n            disabled={loading}\n          >\n            {loading ? 'Creando...' : 'Crear Reserva'}\n          </button>\n        </>\n      }\n    >\n      {apiError && (\n        <ErrorMessage\n          message={apiError}\n          dismissible\n          onDismiss={() => setApiError(null)}\n          className=\"mb-4\"\n        />\n      )}\n\n      <form id=\"reservation-form\" onSubmit={handleSubmit} className=\"modal-form\">\n        <div className=\"form-section\">\n            <h3>üë§ Informaci√≥n del Cliente</h3>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"cliente_nombre\">Nombre *</label>\n              <input\n                type=\"text\"\n                id=\"cliente_nombre\"\n                name=\"cliente_nombre\"\n                value={formData.cliente_nombre}\n                onChange={handleInputChange}\n                className={errors.cliente_nombre ? 'error' : ''}\n                placeholder=\"Nombre completo del cliente\"\n              />\n              {errors.cliente_nombre && <span className=\"error-message\">{errors.cliente_nombre}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"cliente_email\">Email *</label>\n              <input\n                type=\"email\"\n                id=\"cliente_email\"\n                name=\"cliente_email\"\n                value={formData.cliente_email}\n                onChange={handleInputChange}\n                className={errors.cliente_email ? 'error' : ''}\n                placeholder=\"email@ejemplo.com\"\n              />\n              {errors.cliente_email && <span className=\"error-message\">{errors.cliente_email}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"cliente_telefono\">Tel√©fono *</label>\n              <input\n                type=\"tel\"\n                id=\"cliente_telefono\"\n                name=\"cliente_telefono\"\n                value={formData.cliente_telefono}\n                onChange={handleInputChange}\n                className={errors.cliente_telefono ? 'error' : ''}\n                placeholder=\"+34 123 456 789\"\n              />\n              {errors.cliente_telefono && <span className=\"error-message\">{errors.cliente_telefono}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"cliente_dni\">DNI (opcional)</label>\n              <input\n                type=\"text\"\n                id=\"cliente_dni\"\n                name=\"cliente_dni\"\n                value={formData.cliente_dni}\n                onChange={handleInputChange}\n                placeholder=\"12345678A\"\n              />\n            </div>\n        </div>\n\n        <div className=\"form-section\">\n            <h3>üìÖ Informaci√≥n de la Reserva</h3>\n            \n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor=\"start_at\">Fecha y Hora de Inicio *</label>\n                <input\n                  type=\"datetime-local\"\n                  id=\"start_at\"\n                  name=\"start_at\"\n                  value={formData.start_at}\n                  onChange={handleInputChange}\n                  className={errors.start_at ? 'error' : ''}\n                />\n                {errors.start_at && <span className=\"error-message\">{errors.start_at}</span>}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"end_at\">Fecha y Hora de Fin *</label>\n                <input\n                  type=\"datetime-local\"\n                  id=\"end_at\"\n                  name=\"end_at\"\n                  value={formData.end_at}\n                  onChange={handleInputChange}\n                  className={errors.end_at ? 'error' : ''}\n                />\n                {errors.end_at && <span className=\"error-message\">{errors.end_at}</span>}\n              </div>\n            </div>\n\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor=\"number_of_guests\">N√∫mero de Invitados *</label>\n                <input\n                  type=\"number\"\n                  id=\"number_of_guests\"\n                  name=\"number_of_guests\"\n                  value={formData.number_of_guests}\n                  onChange={handleInputChange}\n                  min=\"1\"\n                  max=\"20\"\n                  className={errors.number_of_guests ? 'error' : ''}\n                />\n                {errors.number_of_guests && <span className=\"error-message\">{errors.number_of_guests}</span>}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"mesa_id\">Mesa</label>\n                <select\n                  id=\"mesa_id\"\n                  name=\"mesa_id\"\n                  value={formData.mesa_id}\n                  onChange={handleInputChange}\n                >\n                  <option value={1}>Mesa 1</option>\n                  <option value={2}>Mesa 2</option>\n                  <option value={3}>Mesa 3</option>\n                  <option value={4}>Mesa 4</option>\n                  <option value={5}>Mesa 5</option>\n                </select>\n              </div>\n            </div>\n        </div>\n\n        <div className=\"form-actions\">\n          <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\n            Cancelar\n          </button>\n          <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n            {loading ? 'Creando...' : 'Crear Reserva'}\n          </button>\n        </div>\n      </form>\n    </ModalBase>\n  );\n};\n\nexport default CreateReservationModal; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1333, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/components/MonthNavigation.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport './MonthNavigation.css';\n\nexport type ViewType = 'month' | 'week';\n\ninterface MonthNavigationProps {\n    monthLabel: string;\n    onPrev: () => void;\n    onNext: () => void;\n    onToday: () => void;\n    viewType: ViewType;\n    onChangeView: (view: ViewType) => void;\n}\n\nconst MonthNavigation: React.FC<MonthNavigationProps> = ({\n    monthLabel,\n    onPrev,\n    onNext,\n    onToday,\n    viewType,\n    onChangeView,\n}) => {\n    return (\n        <div className=\"month-nav\">\n            <div className=\"nav-left\">\n                <button onClick={onPrev}>‚Äπ</button>\n                <h2>{monthLabel}</h2>\n                <button onClick={onNext}>‚Ä∫</button>\n            </div>\n\n            <div className=\"nav-right\">\n                <button className=\"btn-today\" onClick={onToday}>Hoy</button>\n                <div className=\"view-selector\">\n                    <button\n                        className={viewType === 'month' ? 'active' : ''}\n                        onClick={() => onChangeView('month')}\n                    >\n                        Mes\n                    </button>\n                    <button\n                        className={viewType === 'week' ? 'active' : ''}\n                        onClick={() => onChangeView('week')}\n                    >\n                        Semana\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MonthNavigation; "],"names":[],"mappings":";;;;AAAA;;;AAgBA,MAAM,kBAAkD,CAAC,EACrD,UAAU,EACV,MAAM,EACN,MAAM,EACN,OAAO,EACP,QAAQ,EACR,YAAY,EACf;IACG,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAO,SAAS;kCAAQ;;;;;;kCACzB,8OAAC;kCAAI;;;;;;kCACL,8OAAC;wBAAO,SAAS;kCAAQ;;;;;;;;;;;;0BAG7B,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAO,WAAU;wBAAY,SAAS;kCAAS;;;;;;kCAChD,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,WAAW,aAAa,UAAU,WAAW;gCAC7C,SAAS,IAAM,aAAa;0CAC/B;;;;;;0CAGD,8OAAC;gCACG,WAAW,aAAa,SAAS,WAAW;gCAC5C,SAAS,IAAM,aAAa;0CAC/B;;;;;;;;;;;;;;;;;;;;;;;;AAOrB;uCAEe","debugId":null}},
    {"offset": {"line": 1433, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/components/CalendarHeader.tsx"],"sourcesContent":["import React from 'react';\nimport './CalendarHeader.css';\n\ninterface CalendarHeaderProps {\n    title?: string;\n    subtitle?: string;\n    total: number;\n    pending: number;\n    confirmed: number;\n}\n\nconst CalendarHeader: React.FC<CalendarHeaderProps> = ({\n    title = 'üìÖ Calendario de Reservas',\n    subtitle = 'Gestiona las reservas de forma visual por fechas',\n    total,\n    pending,\n    confirmed,\n}) => {\n    return (\n        <div className=\"calendar-header\">\n            <div className=\"title-section\">\n                <h1 className=\"calendar-title\">{title}</h1>\n                <p className=\"calendar-subtitle\">{subtitle}</p>\n            </div>\n            <div className=\"calendar-stats\">\n                <div className=\"stat-item\">\n                    <span className=\"stat-number\">{total}</span>\n                    <span className=\"stat-label\">Total</span>\n                </div>\n                <div className=\"stat-item\">\n                    <span className=\"stat-number\">{pending}</span>\n                    <span className=\"stat-label\">Pendientes</span>\n                </div>\n                <div className=\"stat-item\">\n                    <span className=\"stat-number\">{confirmed}</span>\n                    <span className=\"stat-label\">Confirmadas</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CalendarHeader; "],"names":[],"mappings":";;;;;;AAWA,MAAM,iBAAgD,CAAC,EACnD,QAAQ,2BAA2B,EACnC,WAAW,kDAAkD,EAC7D,KAAK,EACL,OAAO,EACP,SAAS,EACZ;IACG,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAkB;;;;;;kCAChC,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;0BAEtC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAe;;;;;;0CAC/B,8OAAC;gCAAK,WAAU;0CAAa;;;;;;;;;;;;kCAEjC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAe;;;;;;0CAC/B,8OAAC;gCAAK,WAAU;0CAAa;;;;;;;;;;;;kCAEjC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAe;;;;;;0CAC/B,8OAAC;gCAAK,WAAU;0CAAa;;;;;;;;;;;;;;;;;;;;;;;;AAKjD;uCAEe","debugId":null}},
    {"offset": {"line": 1564, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/components/Calendar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useReservations } from '../hooks/useReservations';\nimport { Reservation } from '@/services/reservations/domain/entities/Reservation';\nimport CreateReservationModal from './CreateReservationModal';\nimport './Calendar.css';\nimport MonthNavigation from './MonthNavigation';\nimport CalendarHeader from './CalendarHeader';\n\nconst Calendar: React.FC = () => {\n    const [currentDate, setCurrentDate] = useState(new Date());\n    const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n    const [viewType, setViewType] = useState('month');\n    const [showCreateModal, setShowCreateModal] = useState(false);\n    const [selectedDateForCreate, setSelectedDateForCreate] = useState<Date | null>(null);\n\n    // Estados para los modales de reservas\n    const [showReservationsModals, setShowReservationsModals] = useState(false);\n    const [selectedReservation, setSelectedReservation] = useState<Reservation | null>(null);\n    const [dayReservations, setDayReservations] = useState<Reservation[]>([]);\n    \n    // Estado para trackear d√≠as recientemente actualizados\n    const [recentlyUpdatedDays, setRecentlyUpdatedDays] = useState(new Set<string>());\n\n    const {\n        reservations,\n        loading,\n        createReservation,\n        updateReservationStatus,\n        cancelReservation,\n        fetchReservations,\n        getReservationsForDate,\n        getStatusName,\n        getStatusColor,\n        getStatusIcon\n    } = useReservations();\n\n    useEffect(() => {\n        fetchReservations();\n    }, [currentDate, fetchReservations]);\n\n    // Funciones para navegaci√≥n del calendario\n    const goToPreviousMonth = () => {\n        setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));\n    };\n\n    const goToNextMonth = () => {\n        setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));\n    };\n\n    const goToToday = () => {\n        setCurrentDate(new Date());\n        setSelectedDate(new Date());\n    };\n\n    // Obtener d√≠as del mes\n    const getDaysInMonth = (date: Date) => {\n        const year = date.getFullYear();\n        const month = date.getMonth();\n        const firstDay = new Date(year, month, 1);\n        const lastDay = new Date(year, month + 1, 0);\n        const daysInMonth = lastDay.getDate();\n        const startingDayOfWeek = firstDay.getDay();\n\n        const days: Array<{\n            date: Date;\n            isCurrentMonth: boolean;\n            isToday: boolean;\n            reservations: Reservation[];\n        }> = [];\n\n        // D√≠as del mes anterior para completar la primera semana\n        for (let i = startingDayOfWeek - 1; i >= 0; i--) {\n            const prevDate = new Date(year, month, -i);\n            days.push({\n                date: prevDate,\n                isCurrentMonth: false,\n                isToday: false,\n                reservations: []\n            });\n        }\n\n        // D√≠as del mes actual\n        for (let day = 1; day <= daysInMonth; day++) {\n            const dayDate = new Date(year, month, day);\n            const isToday = isDateToday(dayDate);\n            const dayReservations = getReservationsForDate(dayDate);\n\n            days.push({\n                date: dayDate,\n                isCurrentMonth: true,\n                isToday,\n                reservations: dayReservations\n            });\n        }\n\n        // D√≠as del siguiente mes para completar la √∫ltima semana\n        const totalCells = Math.ceil(days.length / 7) * 7;\n        for (let day = 1; days.length < totalCells; day++) {\n            const nextDate = new Date(year, month + 1, day);\n            days.push({\n                date: nextDate,\n                isCurrentMonth: false,\n                isToday: false,\n                reservations: []\n            });\n        }\n\n        return days;\n    };\n\n    // Verificar si es hoy\n    const isDateToday = (date: Date) => {\n        const today = new Date();\n        return date.getDate() === today.getDate() &&\n               date.getMonth() === today.getMonth() &&\n               date.getFullYear() === today.getFullYear();\n    };\n\n    const handleDayClick = (dayData: { date: Date; isCurrentMonth: boolean; isToday: boolean; reservations: Reservation[] }) => {\n        if (dayData.isCurrentMonth) {\n            setSelectedDate(dayData.date);\n            setDayReservations(dayData.reservations);\n            setShowReservationsModals(true);\n            setSelectedReservation(null);\n        }\n    };\n\n    const handleSelectReservation = (reservation: Reservation) => {\n        setSelectedReservation(reservation);\n    };\n\n    const handleConfirmReservation = async (reservationId: number) => {\n        const result = await updateReservationStatus(reservationId, 'confirmado');\n        if (result.success) {\n            // Actualizar la lista de reservas del d√≠a\n            setDayReservations(prev => \n                prev.map(reservation => \n                    reservation.reserva_id === reservationId \n                        ? { ...reservation, estado_codigo: 'confirmado', estado_nombre: 'Confirmado' }\n                        : reservation\n                )\n            );\n            \n            // Actualizar la reserva seleccionada\n            if (selectedReservation && selectedReservation.reserva_id === reservationId) {\n                setSelectedReservation(prev => prev ? { ...prev, estado_codigo: 'confirmado', estado_nombre: 'Confirmado' } : null);\n            }\n        }\n    };\n\n    const handleCancelReservation = async (reservationId: number) => {\n        const result = await cancelReservation(reservationId);\n        if (result.success) {\n            // Actualizar la lista de reservas del d√≠a\n            setDayReservations(prev => \n                prev.map(reservation => \n                    reservation.reserva_id === reservationId \n                        ? { ...reservation, estado_codigo: 'cancelado', estado_nombre: 'Cancelado' }\n                        : reservation\n                )\n            );\n            \n            // Actualizar la reserva seleccionada\n            if (selectedReservation && selectedReservation.reserva_id === reservationId) {\n                setSelectedReservation(prev => prev ? { ...prev, estado_codigo: 'cancelado', estado_nombre: 'Cancelado' } : null);\n            }\n        }\n    };\n\n    const handleCloseReservationsModals = () => {\n        setShowReservationsModals(false);\n        setSelectedReservation(null);\n        setDayReservations([]);\n    };\n\n    const handleCreateReservation = (date: Date) => {\n        setSelectedDateForCreate(date);\n        setShowCreateModal(true);\n    };\n\n    const handleSubmitReservation = async (reservationData: any) => {\n        const result = await createReservation(reservationData);\n        if (result.success) {\n            setShowCreateModal(false);\n            setSelectedDateForCreate(null);\n            \n            // Marcar el d√≠a espec√≠fico como actualizado\n            const reservationDate = new Date(reservationData.start_at);\n            const dayKey = reservationDate.toDateString();\n            \n            setRecentlyUpdatedDays(prev => new Set([...prev, dayKey]));\n            \n            // Limpiar el indicador despu√©s de 3 segundos\n            setTimeout(() => {\n                setRecentlyUpdatedDays(prev => {\n                    const newSet = new Set(prev);\n                    newSet.delete(dayKey);\n                    return newSet;\n                });\n            }, 3000);\n            \n            console.log(`‚úÖ Nueva reserva creada para ${dayKey} - D√≠a actualizado autom√°ticamente`);\n        } else {\n            console.error('‚ùå Error al crear reserva:', result.error);\n        }\n        return result;\n    };\n\n    const monthNames = [\n        'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\n        'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\n    ];\n    const dayNames = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];\n\n    const days = useMemo(() => getDaysInMonth(currentDate), [currentDate, reservations]);\n\n    if (loading && reservations.length === 0) {\n        return (\n            <div className=\"calendario-page\">\n                <div className=\"calendario-loading\">\n                    <div className=\"loading-spinner\">\n                        <div className=\"spinner-large\"></div>\n                    </div>\n                    <p>Cargando calendario...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"calendario-page\">\n            <CalendarHeader\n                total={reservations.length}\n                pending={reservations.filter(r => r.estado_codigo === 'pendiente').length}\n                confirmed={reservations.filter(r => r.estado_codigo === 'confirmado').length}\n            />\n\n            <div className=\"calendario-controls\">\n                <MonthNavigation\n                    monthLabel={`${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`}\n                    onPrev={goToPreviousMonth}\n                    onNext={goToNextMonth}\n                    onToday={goToToday}\n                    viewType={viewType as any}\n                    onChangeView={(view) => setViewType(view)}\n                />\n            </div>\n\n            {/* Calendario Grid */}\n            <div className=\"calendario-content\">\n                <div className=\"calendar-grid\">\n                    <div className=\"calendar-header-row\">\n                        {dayNames.map(day => (\n                            <div key={day} className=\"day-header\">{day}</div>\n                        ))}\n                    </div>\n\n                    <div className=\"calendar-body\">\n                        {days.map((dayData, index) => {\n                            const dayKey = dayData.date.toDateString();\n                            const isRecentlyUpdated = recentlyUpdatedDays.has(dayKey);\n                            \n                            return (\n                                <div\n                                    key={index}\n                                    className={`calendar-day ${!dayData.isCurrentMonth ? 'other-month' : ''} ${dayData.isToday ? 'today' : ''\n                                        } ${selectedDate && selectedDate.toDateString() === dayData.date.toDateString() ? 'selected' : ''} ${isRecentlyUpdated ? 'recently-updated' : ''}`}\n                                    onClick={() => handleDayClick(dayData)}\n                                >\n                                    <div className=\"day-number\">\n                                        {dayData.date.getDate()}\n                                        {isRecentlyUpdated && <span className=\"update-indicator\">‚ú®</span>}\n                                    </div>\n\n                                    <div className=\"day-reservas\">\n                                        {dayData.reservations.slice(0, 3).map((reservation, idx) => (\n                                            <div\n                                                key={idx}\n                                                className={`reserva-item ${reservation.estado_codigo}`}\n                                                title={`${reservation.cliente_nombre} - ${reservation.start_at ? new Date(reservation.start_at).toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }) : ''}`}\n                                            >\n                                                <span className=\"reserva-time\">\n                                                    {reservation.start_at ? new Date(reservation.start_at).toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }) : ''}\n                                                </span>\n                                                <span className=\"reserva-name\">{reservation.cliente_nombre}</span>\n                                            </div>\n                                        ))}\n\n                                        {dayData.reservations.length > 3 && (\n                                            <div className=\"more-reservas\">\n                                                +{dayData.reservations.length - 3} m√°s\n                                            </div>\n                                        )}\n\n                                        {dayData.isCurrentMonth && (\n                                            <button\n                                                className=\"add-reserva-btn\"\n                                                onClick={(e: React.MouseEvent) => {\n                                                    e.stopPropagation();\n                                                    handleCreateReservation(dayData.date);\n                                                }}\n                                                title=\"Agregar reserva\"\n                                            >\n                                                +\n                                            </button>\n                                        )}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </div>\n\n            {/* Modales duales para reservas */}\n            {showReservationsModals && (\n                <div className=\"dual-modals-overlay\">\n                    <div className=\"dual-modals-container\">\n                        {/* Modal Izquierdo - Lista de Horas */}\n                        <div className=\"modal-left\">\n                            <div className=\"modal-header-dual\">\n                                <h3> Reservas del D√≠a</h3>\n                                <span className=\"date-info\">\n                                    {selectedDate?.toLocaleDateString('es-ES', {\n                                        weekday: 'long',\n                                        day: 'numeric',\n                                        month: 'long'\n                                    })}\n                                </span>\n                            </div>\n\n                            <div className=\"modal-content-dual\">\n                                <div className=\"reservas-timeline\">\n                                    {dayReservations.map((reservation) => (\n                                        <div\n                                            key={reservation.reserva_id}\n                                            className={`timeline-item ${selectedReservation?.reserva_id === reservation.reserva_id ? 'selected' : ''}`}\n                                            onClick={() => handleSelectReservation(reservation)}\n                                        >\n                                            <div className=\"timeline-time\">\n                                                {new Date(reservation.start_at).toLocaleTimeString('es-ES', {\n                                                    hour: '2-digit',\n                                                    minute: '2-digit'\n                                                })}\n                                            </div>\n                                            <div className=\"timeline-info\">\n                                                <div className=\"timeline-name\">{reservation.cliente_nombre}</div>\n                                                <div className=\"timeline-guests\">{reservation.number_of_guests} personas</div>\n                                                <div className={`timeline-status ${reservation.estado_codigo}`}>\n                                                    {reservation.estado_nombre}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Modal Derecho - Detalles de Reserva */}\n                        <div className=\"modal-right\">\n                            <div className=\"modal-header-dual\">\n                                <h3> Detalles de Reserva</h3>\n                                <button\n                                    className=\"close-dual-btn\"\n                                    onClick={handleCloseReservationsModals}\n                                >\n                                    ‚úï\n                                </button>\n                            </div>\n\n                            <div className=\"modal-content-dual\">\n                                {selectedReservation ? (\n                                    <div className=\"reserva-details-full\">\n                                        {/* Informaci√≥n del Cliente */}\n                                        <div className=\"detail-section-dual\">\n                                            <h4>üë§ Informaci√≥n del Cliente</h4>\n\n                                            <div className=\"detail-grid-dual\">\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Nombre:</span>\n                                                    <span className=\"value\">\n                                                        {selectedReservation.cliente_nombre || 'No especificado'}\n                                                    </span>\n                                                </div>\n\n                                                <div className=\"detail-item-dual email-item\">\n                                                    <span className=\"label\">Email:</span>\n                                                    <span className=\"value\">\n                                                        {selectedReservation.cliente_email || 'No especificado'}\n                                                    </span>\n                                                </div>\n\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Tel√©fono:</span>\n                                                    <span className=\"value\">\n                                                        {selectedReservation.cliente_telefono || 'No especificado'}\n                                                    </span>\n                                                </div>\n\n                                                {selectedReservation.cliente_dni && (\n                                                    <div className=\"detail-item-dual\">\n                                                        <span className=\"label\">DNI:</span>\n                                                        <span className=\"value\">\n                                                            {selectedReservation.cliente_dni}\n                                                        </span>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n\n                                        {/* Informaci√≥n de la Reserva */}\n                                        <div className=\"detail-section-dual\">\n                                            <h4>üìÖ Informaci√≥n de la Reserva</h4>\n                                            <div className=\"detail-grid-dual\">\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">ID Reserva:</span>\n                                                    <span className=\"value\">#{selectedReservation.reserva_id}</span>\n                                                </div>\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Fecha:</span>\n                                                    <span className=\"value\">\n                                                        {new Date(selectedReservation.start_at).toLocaleDateString('es-ES')}\n                                                    </span>\n                                                </div>\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Hora Inicio:</span>\n                                                    <span className=\"value\">\n                                                        {new Date(selectedReservation.start_at).toLocaleTimeString('es-ES', {\n                                                            hour: '2-digit',\n                                                            minute: '2-digit'\n                                                        })}\n                                                    </span>\n                                                </div>\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Hora Fin:</span>\n                                                    <span className=\"value\">\n                                                        {new Date(selectedReservation.end_at).toLocaleTimeString('es-ES', {\n                                                            hour: '2-digit',\n                                                            minute: '2-digit'\n                                                        })}\n                                                    </span>\n                                                </div>\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Invitados:</span>\n                                                    <span className=\"value\">{selectedReservation.number_of_guests} personas</span>\n                                                </div>\n                                                <div className=\"detail-item-dual\">\n                                                    <span className=\"label\">Estado:</span>\n                                                    <span className={`status-badge-dual ${selectedReservation.estado_codigo}`}>\n                                                        {selectedReservation.estado_nombre}\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* Botones de Acci√≥n */}\n                                        <div className=\"actions-section-dual\">\n                                            <h4>‚ö° Acciones</h4>\n                                            <div className=\"actions-buttons-dual\">\n                                                {selectedReservation.estado_codigo === 'pendiente' && (\n                                                    <button\n                                                        className=\"btn-confirm-dual\"\n                                                        onClick={() => handleConfirmReservation(selectedReservation.reserva_id)}\n                                                        disabled={loading}\n                                                    >\n                                                        ‚úÖ Confirmar Reserva\n                                                    </button>\n                                                )}\n\n                                                {selectedReservation.estado_codigo !== 'cancelado' && selectedReservation.estado_codigo !== 'completado' && (\n                                                    <button\n                                                        className=\"btn-cancel-dual\"\n                                                        onClick={() => handleCancelReservation(selectedReservation.reserva_id)}\n                                                        disabled={loading}\n                                                    >\n                                                        ‚ùå Cancelar Reserva\n                                                    </button>\n                                                )}\n\n                                                {selectedReservation.estado_codigo === 'confirmado' && (\n                                                    <button\n                                                        className=\"btn-complete-dual\"\n                                                        onClick={() => handleConfirmReservation(selectedReservation.reserva_id)}\n                                                        disabled={loading}\n                                                    >\n                                                        üéâ Marcar Completada\n                                                    </button>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"no-selection\">\n                                        <p>Selecciona una reserva de la lista para ver los detalles</p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Modal de crear reserva */}\n            {showCreateModal && (\n                <CreateReservationModal\n                    isOpen={showCreateModal}\n                    onClose={() => {\n                        setShowCreateModal(false);\n                        setSelectedDateForCreate(null);\n                    }}\n                    onSubmit={handleSubmitReservation}\n                    loading={loading}\n                    initialDate={selectedDateForCreate}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Calendar; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2557, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/reservations/ui/pages/CalendarPage.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useServerAuth } from '@/shared/hooks/useServerAuth';\nimport Layout from '@/shared/ui/components/Layout';\nimport Calendar from '@/services/reservations/ui/components/Calendar';\n\nexport default function CalendarPage() {\n  const { isAuthenticated, loading } = useServerAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    // Solo redirigir si ya termin√≥ de cargar Y no est√° autenticado\n    if (!loading && !isAuthenticated) {\n      console.log('‚ùå [CalendarPage] Usuario no autenticado, redirigiendo a login');\n      router.push('/auth/login');\n    }\n  }, [isAuthenticated, loading, router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"loading-spinner-large\"></div>\n          <p>Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null; // Se redirigir√° autom√°ticamente\n  }\n\n  return (\n    <Layout>\n      <Calendar />\n    </Layout>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD;IACjD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,+DAA+D;QAC/D,IAAI,CAAC,WAAW,CAAC,iBAAiB;YAChC,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAS;KAAO;IAErC,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO,MAAM,gCAAgC;IAC/C;IAEA,qBACE,8OAAC,4IAAA,CAAA,UAAM;kBACL,cAAA,8OAAC,gKAAA,CAAA,UAAQ;;;;;;;;;;AAGf","debugId":null}}]
}