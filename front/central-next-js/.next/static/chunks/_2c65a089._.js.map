{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/index.ts"],"sourcesContent":["// Exportar todas las acciones de autenticaci√≥n\nexport { loginAction } from './login.action';\nexport { logoutAction } from './logout.action';\nexport { checkAuthAction } from './check-auth.action';\nexport { getUserRolesPermissionsAction } from './get-user-roles-permissions.action';\nexport { changePasswordAction } from './change-password.action';\n\n// Exportar tipos\nexport type { LoginRequest } from './request/login';\nexport type { LoginResponse } from './response/login';\nexport type { LogoutResponse } from './logout.action';\nexport type { CheckAuthResponse } from './check-auth.action';\nexport type { GetUserRolesPermissionsResponse } from './get-user-roles-permissions.action';\nexport type { ChangePasswordRequest, ChangePasswordResponse } from './change-password.action'; "],"names":[],"mappings":"AAAA,+CAA+C","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/login.action.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\nimport { LoginResponse } from '@/services/auth/domain/entities/loging_response';\nimport { LoginRequest } from '@/services/auth/infrastructure/actions/request/login';\nimport { LoginCredentials } from '@/services/auth/domain/entities/Auth';\nimport { \n  mapLoginRequestToLoginCredentials,\n  mapLoginResponseToDomain\n} from '@/services/auth/infrastructure/actions/mappers';\n\nexport async function loginAction(request: LoginRequest): Promise<LoginResponse> {\n  try {\n    const loginCredentials: LoginCredentials = mapLoginRequestToLoginCredentials(request);\n    \n    const { email, password } = loginCredentials;\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    const data = await response.json();\n    \n    if (!response.ok) {\n      return data;\n    }\n    \n    const mappedResponse = mapLoginResponseToDomain(data.data);\n    \n    const cookieStore = await cookies();\n    cookieStore.set('auth-token', mappedResponse.token, {\n      httpOnly: true,\n      secure: true,\n      sameSite: 'lax',\n      maxAge: 60 * 60 * 24 * 7\n    });\n\n    const userWithBusinesses = {\n      ...mappedResponse.user,\n      businesses: mappedResponse.businesses\n    };\n    \n    cookieStore.set('user-info', JSON.stringify(userWithBusinesses), {\n      httpOnly: true,\n      secure: true,\n      sameSite: 'lax',\n      maxAge: 60 * 60 * 24 * 7\n    });\n\n    return {\n      success: true,\n      data: mappedResponse\n    };\n  } catch (error) {\n    console.error('Login action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAYsB,cAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/logout.action.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\n\nexport interface LogoutResponse {\n  success: boolean;\n  message?: string;\n}\n\nexport async function logoutAction(): Promise<LogoutResponse> {\n  try {\n    const cookieStore = await cookies();\n    cookieStore.delete('auth-token');\n    cookieStore.delete('user-info');\n    \n    return {\n      success: true,\n      message: 'Logout exitoso'\n    };\n  } catch (error) {\n    console.error('Logout action error:', error);\n    return {\n      success: false,\n      message: 'Error al hacer logout'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IASsB,eAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/check-auth.action.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface CheckAuthResponse {\n  isAuthenticated: boolean;\n  user?: any;\n}\n\nexport async function checkAuthAction(): Promise<CheckAuthResponse> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n    const userInfo = cookieStore.get('user-info');\n\n    if (!token || !userInfo) {\n      return { isAuthenticated: false };\n    }\n\n    // Verificar token con el backend\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/auth/verify`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      // Token inv√°lido, limpiar cookies\n      cookieStore.delete('auth-token');\n      cookieStore.delete('user-info');\n      return { isAuthenticated: false };\n    }\n\n    const user = JSON.parse(userInfo.value);\n    return {\n      isAuthenticated: true,\n      user\n    };\n  } catch (error) {\n    console.error('Check auth action error:', error);\n    return { isAuthenticated: false };\n  }\n} "],"names":[],"mappings":";;;;;;IAUsB,kBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/get-user-roles-permissions.action.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface GetUserRolesPermissionsResponse {\n  success: boolean;\n  data?: any;\n  message?: string;\n}\n\nexport async function getUserRolesPermissionsAction(): Promise<GetUserRolesPermissionsResponse> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/auth/roles-permissions`, {\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al obtener permisos'\n      };\n    }\n\n    const data = await response.json();\n    \n    return {\n      success: true,\n      data: data.data || {}\n    };\n  } catch (error) {\n    console.error('Get user roles permissions action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAWsB,gCAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/change-password.action.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { getApiBaseUrl } from '@/server/config/env';\n\nexport interface ChangePasswordRequest {\n  currentPassword: string;\n  newPassword: string;\n}\n\nexport interface ChangePasswordResponse {\n  success: boolean;\n  message?: string;\n}\n\nexport async function changePasswordAction(formData: FormData): Promise<ChangePasswordResponse> {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('auth-token');\n\n    if (!token) {\n      return {\n        success: false,\n        message: 'No autorizado'\n      };\n    }\n\n    const currentPassword = formData.get('currentPassword') as string;\n    const newPassword = formData.get('newPassword') as string;\n\n    const response = await fetch(`${getApiBaseUrl()}/api/v1/auth/change-password`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token.value}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ currentPassword, newPassword }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      return {\n        success: false,\n        message: errorData.message || 'Error al cambiar contrase√±a'\n      };\n    }\n\n    return {\n      success: true,\n      message: 'Contrase√±a cambiada exitosamente'\n    };\n  } catch (error) {\n    console.error('Change password action error:', error);\n    return {\n      success: false,\n      message: 'Error interno del servidor'\n    };\n  }\n} "],"names":[],"mappings":";;;;;;IAesB,uBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/mappers/login-response.mapper.ts"],"sourcesContent":["/**\n * Mapper para la respuesta del login\n * Convierte del backend (snake_case) al dominio (camelCase)\n * \n * RESUELVE EL PROBLEMA REAL:\n * - avatar_url ‚Üí avatarURL\n * - is_active ‚Üí isActive\n * - logo_url ‚Üí logoURL\n */\n\nimport type { LoginData } from '../response/login';\nimport type { LoginData as DomainLoginData } from '@/services/auth/domain/entities/loging_response';\n\n/**\n * Convierte la respuesta del login del backend al dominio\n */\nexport function mapLoginResponseToDomain(\n  backendResponse: LoginData\n): DomainLoginData {\n  return {\n    user: {\n      id: backendResponse.user.id,\n      name: backendResponse.user.name,\n      email: backendResponse.user.email,\n      phone: backendResponse.user.phone,\n      avatarURL: backendResponse.user.avatar_url,        // ‚Üê snake_case ‚Üí camelCase\n      isActive: backendResponse.user.is_active,          // ‚Üê snake_case ‚Üí camelCase\n      lastLoginAt: backendResponse.user.last_login_at    // ‚Üê snake_case ‚Üí camelCase\n    },\n    token: backendResponse.token,\n    requirePasswordChange: backendResponse.require_password_change,  // ‚Üê snake_case ‚Üí camelCase\n    businesses: backendResponse.businesses.map(business => ({\n      id: business.id,\n      name: business.name,\n      code: business.code,\n      businessTypeId: business.business_type_id,        // ‚Üê snake_case ‚Üí camelCase\n      businessType: {\n        id: business.business_type.id,\n        name: business.business_type.name,\n        code: business.business_type.code,\n        description: business.business_type.description,\n        icon: business.business_type.icon\n      },\n      timezone: business.timezone,\n      address: business.address,\n      description: business.description,\n      logoURL: business.logo_url,                      // ‚Üê snake_case ‚Üí camelCase\n      primaryColor: business.primary_color,            // ‚Üê snake_case ‚Üí camelCase\n      secondaryColor: business.secondary_color,        // ‚Üê snake_case ‚Üí camelCase\n      tertiaryColor: business.tertiary_color,          // ‚Üê snake_case ‚Üí camelCase\n      quaternaryColor: business.quaternary_color,      // ‚Üê snake_case ‚Üí camelCase\n      navbarImageURL: business.navbar_image_url,       // ‚Üê snake_case ‚Üí camelCase\n      customDomain: business.custom_domain,            // ‚Üê snake_case ‚Üí camelCase\n      isActive: business.is_active,                    // ‚Üê snake_case ‚Üí camelCase\n      enableDelivery: business.enable_delivery,        // ‚Üê snake_case ‚Üí camelCase\n      enablePickup: business.enable_pickup,            // ‚Üê snake_case ‚Üí camelCase\n      enableReservations: business.enable_reservations // ‚Üê snake_case ‚Üí camelCase\n    }))\n  };\n} "],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;AAQM,SAAS,yBACd,eAA0B;IAE1B,OAAO;QACL,MAAM;YACJ,IAAI,gBAAgB,IAAI,CAAC,EAAE;YAC3B,MAAM,gBAAgB,IAAI,CAAC,IAAI;YAC/B,OAAO,gBAAgB,IAAI,CAAC,KAAK;YACjC,OAAO,gBAAgB,IAAI,CAAC,KAAK;YACjC,WAAW,gBAAgB,IAAI,CAAC,UAAU;YAC1C,UAAU,gBAAgB,IAAI,CAAC,SAAS;YACxC,aAAa,gBAAgB,IAAI,CAAC,aAAa,CAAI,2BAA2B;QAChF;QACA,OAAO,gBAAgB,KAAK;QAC5B,uBAAuB,gBAAgB,uBAAuB;QAC9D,YAAY,gBAAgB,UAAU,CAAC,GAAG,CAAC,CAAA,WAAY,CAAC;gBACtD,IAAI,SAAS,EAAE;gBACf,MAAM,SAAS,IAAI;gBACnB,MAAM,SAAS,IAAI;gBACnB,gBAAgB,SAAS,gBAAgB;gBACzC,cAAc;oBACZ,IAAI,SAAS,aAAa,CAAC,EAAE;oBAC7B,MAAM,SAAS,aAAa,CAAC,IAAI;oBACjC,MAAM,SAAS,aAAa,CAAC,IAAI;oBACjC,aAAa,SAAS,aAAa,CAAC,WAAW;oBAC/C,MAAM,SAAS,aAAa,CAAC,IAAI;gBACnC;gBACA,UAAU,SAAS,QAAQ;gBAC3B,SAAS,SAAS,OAAO;gBACzB,aAAa,SAAS,WAAW;gBACjC,SAAS,SAAS,QAAQ;gBAC1B,cAAc,SAAS,aAAa;gBACpC,gBAAgB,SAAS,eAAe;gBACxC,eAAe,SAAS,cAAc;gBACtC,iBAAiB,SAAS,gBAAgB;gBAC1C,gBAAgB,SAAS,gBAAgB;gBACzC,cAAc,SAAS,aAAa;gBACpC,UAAU,SAAS,SAAS;gBAC5B,gBAAgB,SAAS,eAAe;gBACxC,cAAc,SAAS,aAAa;gBACpC,oBAAoB,SAAS,mBAAmB,CAAC,2BAA2B;YAC9E,CAAC;IACH;AACF","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/mappers/roles-permissions.mapper.ts"],"sourcesContent":["/**\n * Mapper para roles y permisos\n * Convierte del backend (snake_case) al dominio (camelCase)\n * \n * RESUELVE EL PROBLEMA REAL:\n * - resource_name ‚Üí resourceName\n * - is_super ‚Üí isSuper\n */\n\nimport type { RolesPermissionsData } from '../response/roles-permissions';\nimport type { RolesPermissionsData as DomainRolesPermissionsData } from '@/services/auth/domain/entities/roles-permissions';\n\n/**\n * Convierte la respuesta de roles y permisos del backend al dominio\n */\nexport function mapRolesPermissionsResponseToDomain(\n  backendResponse: RolesPermissionsData\n): DomainRolesPermissionsData {\n  return {\n    isSuper: backendResponse.is_super,                    // ‚Üê snake_case ‚Üí camelCase\n    roles: backendResponse.roles.map(role => ({\n      id: role.id,\n      name: role.name,\n      code: role.code,\n      description: role.description,\n      level: role.level,\n      scope: role.scope\n    })),\n    resources: backendResponse.resources.map(resource => ({\n      resource: resource.resource,\n      resourceName: resource.resource_name,               // ‚Üê snake_case ‚Üí camelCase\n      actions: resource.actions.map(action => ({\n        id: action.id,\n        name: action.name,\n        code: action.code,\n        description: action.description,\n        resource: action.resource,\n        action: action.action,\n        scope: action.scope\n      }))\n    }))\n  };\n} "],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;AAQM,SAAS,oCACd,eAAqC;IAErC,OAAO;QACL,SAAS,gBAAgB,QAAQ;QACjC,OAAO,gBAAgB,KAAK,CAAC,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACxC,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,MAAM,KAAK,IAAI;gBACf,aAAa,KAAK,WAAW;gBAC7B,OAAO,KAAK,KAAK;gBACjB,OAAO,KAAK,KAAK;YACnB,CAAC;QACD,WAAW,gBAAgB,SAAS,CAAC,GAAG,CAAC,CAAA,WAAY,CAAC;gBACpD,UAAU,SAAS,QAAQ;gBAC3B,cAAc,SAAS,aAAa;gBACpC,SAAS,SAAS,OAAO,CAAC,GAAG,CAAC,CAAA,SAAU,CAAC;wBACvC,IAAI,OAAO,EAAE;wBACb,MAAM,OAAO,IAAI;wBACjB,MAAM,OAAO,IAAI;wBACjB,aAAa,OAAO,WAAW;wBAC/B,UAAU,OAAO,QAAQ;wBACzB,QAAQ,OAAO,MAAM;wBACrB,OAAO,OAAO,KAAK;oBACrB,CAAC;YACH,CAAC;IACH;AACF","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/mappers/auth.mapper.ts"],"sourcesContent":["/**\n * Mappers para entidades de autenticaci√≥n\n * Convierte entre diferentes formatos de datos de autenticaci√≥n\n */\n\nimport type { LoginCredentials } from '../../../domain/entities/Auth';\nimport type { LoginRequest } from '../request/login';\n\n/**\n * Convierte LoginRequest (infraestructura) a LoginCredentials (dominio)\n * @param loginRequest - Datos de login desde la infraestructura\n * @returns LoginCredentials en formato del dominio\n */\nexport function mapLoginRequestToLoginCredentials(loginRequest: LoginRequest): LoginCredentials {\n  return {\n    email: loginRequest.email,\n    password: loginRequest.password\n  };\n}\n\n/**\n * Convierte LoginCredentials (dominio) a LoginRequest (infraestructura)\n * @param loginCredentials - Credenciales del dominio\n * @returns LoginRequest en formato de infraestructura\n */\nexport function mapLoginCredentialsToLoginRequest(loginCredentials: LoginCredentials): LoginRequest {\n  return {\n    email: loginCredentials.email,\n    password: loginCredentials.password\n  };\n}\n\n/**\n * Convierte FormData a LoginCredentials (dominio)\n * @param formData - FormData del formulario de login\n * @returns LoginCredentials en formato del dominio\n */\nexport function mapFormDataToLoginCredentials(formData: FormData): LoginCredentials {\n  return {\n    email: formData.get('email') as string,\n    password: formData.get('password') as string\n  };\n}\n\n/**\n * Convierte FormData a LoginRequest (infraestructura)\n * @param formData - FormData del formulario de login\n * @returns LoginRequest en formato de infraestructura\n */\nexport function mapFormDataToLoginRequest(formData: FormData): LoginRequest {\n  return {\n    email: formData.get('email') as string,\n    password: formData.get('password') as string\n  };\n} "],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAUM,SAAS,kCAAkC,YAA0B;IAC1E,OAAO;QACL,OAAO,aAAa,KAAK;QACzB,UAAU,aAAa,QAAQ;IACjC;AACF;AAOO,SAAS,kCAAkC,gBAAkC;IAClF,OAAO;QACL,OAAO,iBAAiB,KAAK;QAC7B,UAAU,iBAAiB,QAAQ;IACrC;AACF;AAOO,SAAS,8BAA8B,QAAkB;IAC9D,OAAO;QACL,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IACzB;AACF;AAOO,SAAS,0BAA0B,QAAkB;IAC1D,OAAO;QACL,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IACzB;AACF","debugId":null}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/services/auth/infrastructure/actions/mappers/index.ts"],"sourcesContent":["/**\n * Exportaciones de todos los mappers de autenticaci√≥n\n */\n\n// Mapper para la respuesta del login (usuario, token, businesses)\nexport { mapLoginResponseToDomain } from './login-response.mapper';\n\n// Mapper para roles y permisos\nexport { mapRolesPermissionsResponseToDomain } from './roles-permissions.mapper';\n\n// Mappers para credenciales de login\nexport {\n  mapLoginRequestToLoginCredentials,\n  mapFormDataToLoginCredentials\n} from './auth.mapper';\n\n// Tipos para la respuesta del backend\nexport type { LoginData } from '../response/login';\nexport type { RolesPermissionsData } from '../response/roles-permissions';\n\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,kEAAkE;;AAClE;AAEA,+BAA+B;AAC/B;AAEA,qCAAqC;AACrC","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/shared/hooks/useDebugAuth.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\n\nexport const useDebugAuth = (hookName: string) => {\n  const callCount = useRef(0);\n  const lastCall = useRef<Date>(new Date());\n\n  useEffect(() => {\n    callCount.current += 1;\n    const now = new Date();\n    const timeDiff = now.getTime() - lastCall.current.getTime();\n    \n    console.log(`üîç [${hookName}] Llamada #${callCount.current} - Tiempo desde √∫ltima: ${timeDiff}ms`);\n    \n    if (callCount.current > 5) {\n      console.warn(`‚ö†Ô∏è [${hookName}] Muchas llamadas detectadas: ${callCount.current}`);\n    }\n    \n    lastCall.current = now;\n  });\n\n  return { callCount: callCount.current };\n}; "],"names":[],"mappings":";;;AAEA;;AAFA;;AAIO,MAAM,eAAe,CAAC;;IAC3B,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAQ,IAAI;IAElC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,UAAU,OAAO,IAAI;YACrB,MAAM,MAAM,IAAI;YAChB,MAAM,WAAW,IAAI,OAAO,KAAK,SAAS,OAAO,CAAC,OAAO;YAEzD,QAAQ,GAAG,CAAC,AAAC,OAA4B,OAAtB,UAAS,eAAyD,OAA5C,UAAU,OAAO,EAAC,4BAAmC,OAAT,UAAS;YAE9F,IAAI,UAAU,OAAO,GAAG,GAAG;gBACzB,QAAQ,IAAI,CAAC,AAAC,OAA+C,OAAzC,UAAS,kCAAkD,OAAlB,UAAU,OAAO;YAChF;YAEA,SAAS,OAAO,GAAG;QACrB;;IAEA,OAAO;QAAE,WAAW,UAAU,OAAO;IAAC;AACxC;GAnBa","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/shared/hooks/useServerAuth.ts"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useMemo, useRef, useEffect } from 'react';\nimport { loginAction, logoutAction, checkAuthAction, getUserRolesPermissionsAction, changePasswordAction } from '@/services/auth/infrastructure/actions';\nimport { mapFormDataToLoginCredentials } from '@/services/auth/infrastructure/actions/mappers';\nimport { useDebugAuth } from './useDebugAuth';\n\nexport interface UserRolesPermissions {\n  resources: Array<{\n    id: number;\n    name: string;\n    code: string;\n    actions: Array<{\n      id: number;\n      name: string;\n      code: string;\n    }>;\n  }>;\n  permissions: Array<{\n    id: number;\n    name: string;\n    code: string;\n  }>;\n  roles: Array<{\n    id: number;\n    name: string;\n    code: string;\n    description: string;\n    level: number;\n    is_system: boolean;\n    scope_id: number;\n    scope_name: string;\n    scope_code: string;\n  }>;\n}\n\nexport interface AuthState {\n  isAuthenticated: boolean;\n  user: any | null;\n  permissions: UserRolesPermissions | null;\n  loading: boolean;\n  error: string | null;\n}\n\nexport const useServerAuth = () => {\n  // Hook de debug para monitorear llamadas\n  useDebugAuth('useServerAuth');\n\n  const [state, setState] = useState<AuthState>({\n    isAuthenticated: false,\n    user: null,\n    permissions: null,\n    loading: true,\n    error: null\n  });\n\n  // Refs para evitar m√∫ltiples llamadas simult√°neas\n  const authCheckRef = useRef<boolean>(false);\n  const permissionsCheckRef = useRef<boolean>(false);\n  const initializedRef = useRef<boolean>(false);\n\n  // Verificar autenticaci√≥n usando Server Action\n  const checkAuth = useCallback(async () => {\n    if (authCheckRef.current) {\n      console.log('üîÑ [useServerAuth] checkAuth ya se est√° ejecutando, saltando...');\n      return { isAuthenticated: state.isAuthenticated, user: state.user };\n    }\n\n    console.log('üîç [useServerAuth] Verificando autenticaci√≥n...');\n    authCheckRef.current = true;\n    \n    try {\n      setState(prev => ({ ...prev, loading: true }));\n      const result = await checkAuthAction();\n      console.log('‚úÖ [useServerAuth] Verificaci√≥n completada:', result);\n      \n      if (result.isAuthenticated) {\n        setState(prev => ({\n          ...prev,\n          isAuthenticated: true,\n          user: result.user || prev.user,\n          loading: false\n        }));\n      } else {\n        setState(prev => ({\n          ...prev,\n          isAuthenticated: false,\n          user: null,\n          loading: false\n        }));\n      }\n      \n      return result;\n    } catch (error) {\n      console.error('‚ùå [useServerAuth] Error verificando autenticaci√≥n:', error);\n      setState(prev => ({\n        ...prev,\n        isAuthenticated: false,\n        user: null,\n        loading: false\n      }));\n      return { isAuthenticated: false, user: null };\n    } finally {\n      authCheckRef.current = false;\n    }\n  }, []);\n\n  // Obtener roles y permisos usando Server Action\n  const loadUserRolesPermissions = useCallback(async () => {\n    if (permissionsCheckRef.current) {\n      console.log('üîÑ [useServerAuth] loadUserRolesPermissions ya se est√° ejecutando, saltando...');\n      return state.permissions;\n    }\n\n    console.log('üîç [useServerAuth] Iniciando loadUserRolesPermissions...');\n    console.log('üîç [useServerAuth] Estado actual:', {\n      isAuthenticated: state.isAuthenticated,\n      permissionsCheckRef: permissionsCheckRef.current,\n      loading: state.loading,\n      hasUser: !!state.user\n    });\n    \n    if (!state.isAuthenticated) {\n      console.log('üîç [useServerAuth] Usuario no autenticado, saltando carga de permisos');\n      return null;\n    }\n\n    if (!state.user) {\n      console.log('üîç [useServerAuth] No hay usuario en el estado, saltando carga de permisos');\n      return null;\n    }\n\n    permissionsCheckRef.current = true;\n    setState(prev => ({ ...prev, loading: true }));\n    \n    try {\n      console.log('üîç [useServerAuth] Llamando a getUserRolesPermissionsAction...');\n      const result = await getUserRolesPermissionsAction();\n      console.log('üîç [useServerAuth] Resultado recibido:', result);\n      \n      if (result.success && result.data) {\n        console.log('‚úÖ [useServerAuth] Permisos cargados exitosamente');\n        console.log('üìä [useServerAuth] Estructura de permisos:', {\n          hasResources: !!(result.data.resources && result.data.resources.length > 0),\n          hasPermissions: !!(result.data.permissions && result.data.permissions.length > 0),\n          hasRoles: !!(result.data.roles && result.data.roles.length > 0),\n          resourcesCount: result.data.resources?.length || 0,\n          permissionsCount: result.data.permissions?.length || 0,\n          rolesCount: result.data.roles?.length || 0\n        });\n        \n        // Agregar logging detallado de los datos recibidos\n        console.log('üîç [useServerAuth] Datos completos recibidos:', JSON.stringify(result.data, null, 2));\n        \n        setState(prev => ({\n          ...prev,\n          permissions: result.data as UserRolesPermissions,\n          loading: false,\n          error: null\n        }));\n        return result.data;\n      } else {\n        console.log('‚ùå [useServerAuth] Error al cargar permisos:', result.message);\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          error: result.message || 'Error al cargar permisos'\n        }));\n        return null;\n      }\n    } catch (error) {\n      console.error('‚ùå [useServerAuth] Error en loadUserRolesPermissions:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Error interno';\n      setState(prev => ({\n        ...prev,\n        loading: false,\n        error: errorMessage\n      }));\n      return null;\n    } finally {\n      permissionsCheckRef.current = false;\n    }\n  }, [state.isAuthenticated, state.user]);\n\n  // Login usando Server Action\n  const login = useCallback(async (formData: FormData) => {\n    if (state.loading) return { success: false, message: 'Ya hay una operaci√≥n en curso' };\n    \n    console.log('üîê [useServerAuth] Login iniciado...');\n    setState(prev => ({ ...prev, loading: true, error: null }));\n    \n    try {\n      const loginRequest = mapFormDataToLoginCredentials(formData);\n      const result = await loginAction(loginRequest);\n      console.log('üîê [useServerAuth] Resultado del login:', result);\n      \n      if (result.success) {\n        setState(prev => ({\n          ...prev,\n          isAuthenticated: true,\n          user: result.data?.user,\n          loading: false,\n          error: null\n        }));\n\n        console.log('‚úÖ [useServerAuth] Login exitoso, estado actualizado');\n        console.log('üîç [useServerAuth] Esperando que las cookies est√©n disponibles...');\n        \n        // Esperar un poco m√°s para asegurar que las cookies est√©n disponibles\n        await new Promise(resolve => setTimeout(resolve, 500));\n        \n        console.log('üîç [useServerAuth] Intentando cargar permisos...');\n        \n        // Cargar permisos despu√©s del login exitoso\n        try {\n          const permissionsResult = await loadUserRolesPermissions();\n          console.log('‚úÖ [useServerAuth] Permisos cargados despu√©s del login:', permissionsResult);\n        } catch (permissionsError) {\n          console.error('‚ùå [useServerAuth] Error cargando permisos despu√©s del login:', permissionsError);\n        }\n\n        return result;\n      } else {\n        console.log('‚ùå [useServerAuth] Login fall√≥:', result.message);\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          error: result.message || 'Error de autenticaci√≥n'\n        }));\n        return result;\n      }\n    } catch (error) {\n      console.error('üí• [useServerAuth] Error en login:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Error interno';\n      setState(prev => ({\n        ...prev,\n        loading: false,\n        error: errorMessage\n      }));\n      throw error;\n    }\n  }, [state.loading, loadUserRolesPermissions]);\n\n  // Logout usando Server Action\n  const logout = useCallback(async () => {\n    if (state.loading) return { success: false, message: 'Ya hay una operaci√≥n en curso' };\n    \n    setState(prev => ({ ...prev, loading: true }));\n    \n    try {\n      const result = await logoutAction();\n      \n      setState({\n        isAuthenticated: false,\n        user: null,\n        permissions: null,\n        loading: false,\n        error: null\n      });\n\n      authCheckRef.current = false;\n      permissionsCheckRef.current = false;\n      initializedRef.current = false;\n\n      return result;\n    } catch (error) {\n      setState(prev => ({ ...prev, loading: false }));\n      throw error;\n    }\n  }, [state.loading]);\n\n  // Cambiar contrase√±a usando Server Action\n  const changePassword = useCallback(async (formData: FormData) => {\n    if (state.loading) return { success: false, message: 'Ya hay una operaci√≥n en curso' };\n    \n    setState(prev => ({ ...prev, loading: true, error: null }));\n    \n    try {\n      const result = await changePasswordAction(formData);\n      \n      setState(prev => ({ ...prev, loading: false }));\n      \n      if (!result.success) {\n        setState(prev => ({ ...prev, error: result.message || 'Error al cambiar contrase√±a' }));\n      }\n      \n      return result;\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Error interno';\n      setState(prev => ({\n        ...prev,\n        loading: false,\n        error: errorMessage\n      }));\n      throw error;\n    }\n  }, [state.loading]);\n\n  // Limpiar error\n  const clearError = useCallback(() => {\n    setState(prev => ({ ...prev, error: null }));\n  }, []);\n\n  // Forzar recarga de permisos (√∫til para debugging)\n  const forceReloadPermissions = useCallback(async () => {\n    console.log('üîÑ [useServerAuth] Forzando recarga de permisos...');\n    permissionsCheckRef.current = false;\n    initializedRef.current = false;\n    \n    try {\n      const result = await loadUserRolesPermissions();\n      console.log('‚úÖ [useServerAuth] Permisos recargados forzadamente:', result);\n      return result;\n    } catch (error) {\n      console.error('‚ùå [useServerAuth] Error en recarga forzada de permisos:', error);\n      return null;\n    }\n  }, [loadUserRolesPermissions]);\n\n  // Verificar si tiene un permiso espec√≠fico\n  const hasPermission = useCallback((permissionCode: string): boolean => {\n    if (!state.permissions) return false;\n    \n    if (state.permissions.resources) {\n      for (const resource of state.permissions.resources) {\n        if (resource.actions && Array.isArray(resource.actions)) {\n          const hasAction = resource.actions.some((action: any) => action.code === permissionCode);\n          if (hasAction) return true;\n        }\n      }\n    }\n    \n    if (state.permissions.permissions) {\n      return state.permissions.permissions.some((permission: any) => permission.code === permissionCode);\n    }\n    \n    return false;\n  }, [state.permissions]);\n\n  // Verificar si tiene un rol espec√≠fico\n  const hasRole = useCallback((roleName: string): boolean => {\n    if (!state.permissions || !state.permissions.roles) return false;\n    return state.permissions.roles.some((role: any) => role.name === roleName);\n  }, [state.permissions]);\n\n  // Verificar si es super admin\n  const isSuperAdmin = useCallback((): boolean => {\n    return hasRole('super_admin') || hasRole('admin');\n  }, [hasRole]);\n\n  // Inicializar autenticaci√≥n\n  const initializeAuth = useCallback(async () => {\n    if (initializedRef.current) {\n      console.log('üîÑ [useServerAuth] Ya inicializado, saltando...');\n      return;\n    }\n\n    console.log('üöÄ [useServerAuth] Iniciando initializeAuth...');\n    initializedRef.current = true;\n    \n    try {\n      console.log('üîç [useServerAuth] Llamando a checkAuth...');\n      const authResult = await checkAuth();\n      console.log('‚úÖ [useServerAuth] checkAuth completado:', authResult);\n      \n      if (authResult.isAuthenticated && authResult.user) {\n        console.log('üîç [useServerAuth] Usuario autenticado, cargando permisos...');\n        console.log('üë§ [useServerAuth] Usuario completo:', authResult.user.email);\n        console.log('üè¢ [useServerAuth] Informaci√≥n del negocio disponible:', {\n          hasBusinesses: !!(authResult.user.businesses && authResult.user.businesses.length > 0),\n          businessCount: authResult.user.businesses?.length || 0,\n          hasPrimaryColor: !!authResult.user.businesses?.[0]?.primary_color,\n          hasNavbarImage: !!authResult.user.businesses?.[0]?.navbar_image_url\n        });\n        \n        try {\n          // Cargar permisos despu√©s de verificar autenticaci√≥n\n          const permissionsResult = await loadUserRolesPermissions();\n          console.log('‚úÖ [useServerAuth] Permisos cargados en initializeAuth:', permissionsResult);\n        } catch (error) {\n          console.error('‚ùå [useServerAuth] Error cargando permisos en initializeAuth:', error);\n        }\n      } else {\n        console.log('üîç [useServerAuth] Usuario no autenticado o sin datos, saltando carga de permisos');\n      }\n    } catch (error) {\n      console.error('‚ùå [useServerAuth] Error en initializeAuth:', error);\n    }\n  }, [checkAuth, loadUserRolesPermissions]);\n\n  // Memoizar valores derivados\n  const memoizedState = useMemo(() => ({\n    ...state,\n    hasPermission,\n    hasRole,\n    isSuperAdmin\n  }), [state, hasPermission, hasRole, isSuperAdmin]);\n\n  // Ejecutar initializeAuth solo una vez al montar\n  useEffect(() => {\n    console.log('üöÄ [useServerAuth] Hook montado, ejecutando initializeAuth...');\n    initializeAuth();\n  }, []); // Remover dependencias para evitar recreaci√≥n\n\n  // Cargar permisos autom√°ticamente cuando el usuario cambie\n  useEffect(() => {\n    console.log('üîÑ [useServerAuth] useEffect - Usuario cambi√≥:', {\n      isAuthenticated: state.isAuthenticated,\n      hasUser: !!state.user,\n      hasPermissions: !!state.permissions,\n      permissionsCount: state.permissions ? 'presente' : 'ausente'\n    });\n    \n    if (state.isAuthenticated && state.user && !state.permissions) {\n      console.log('üîÑ [useServerAuth] Usuario autenticado sin permisos, cargando...');\n      loadUserRolesPermissions();\n    }\n  }, [state.isAuthenticated, state.user, state.permissions]);\n\n  return {\n    ...memoizedState,\n    login,\n    logout,\n    checkAuth,\n    loadUserRolesPermissions,\n    changePassword,\n    clearError,\n    initializeAuth,\n    hasPermission,\n    hasRole,\n    isSuperAdmin,\n    forceReloadPermissions\n  };\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 846, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/src/shared/contexts/AppContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { User } from '@/services/users/domain/entities/User';\nimport { useServerAuth } from '@/shared/hooks/useServerAuth';\n\ninterface AppContextType {\n  // Estado global esencial\n  user: User | null;\n  permissions: string[];\n  \n  // Estado de carga\n  isLoading: boolean;\n  isInitialized: boolean;\n  \n  // Funciones\n  initializeApp: () => Promise<void>;\n  updateUser: (userData: Partial<User>) => void;\n  clearApp: () => void;\n  \n  // Utilidades\n  hasPermission: (permission: string) => boolean;\n  isSuperAdmin: () => boolean;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\ninterface AppProviderProps {\n  children: React.ReactNode;\n}\n\nexport const AppProvider: React.FC<AppProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [permissions, setPermissions] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isInitialized, setIsInitialized] = useState(false);\n  \n  // Flag para evitar m√∫ltiples inicializaciones\n  const initializationRef = useRef(false);\n\n  // Usar el nuevo hook de Server Actions\n  const {\n    isAuthenticated,\n    user: authUser,\n    permissions: authPermissions,\n    loading: authLoading,\n    error: authError,\n    initializeAuth,\n    hasPermission: serverHasPermission,\n    isSuperAdmin: serverIsSuperAdmin\n  } = useServerAuth();\n\n  // Funci√≥n para aplicar tema del negocio\n  const applyBusinessTheme = useCallback((user: User | null) => {\n    if (!user || !user.businesses || user.businesses.length === 0) return;\n    \n    const business = user.businesses[0] as any; // Usar any temporalmente para evitar errores de tipo\n    if (typeof document !== 'undefined') {\n      const root = document.documentElement;\n      if (business.primary_color) {\n        root.style.setProperty('--primary-color', business.primary_color);\n      }\n      if (business.secondary_color) {\n        root.style.setProperty('--secondary-color', business.secondary_color);\n      }\n      if (business.tertiary_color) {\n        root.style.setProperty('--tertiary-color', business.tertiary_color);\n      }\n      if (business.quaternary_color) {\n        root.style.setProperty('--quaternary-color', business.quaternary_color);\n      }\n      if (business.navbar_image_url) {\n        root.style.setProperty('--navbar-image', `url(${business.navbar_image_url})`);\n      }\n    }\n  }, []);\n\n  // Asegurar que el tema quede aplicado incluso si otros efectos lo pisan\n  const ensureThemeApplied = useCallback((user: User | null) => {\n    if (typeof document === 'undefined') return;\n    if (!user || !user.businesses || user.businesses.length === 0) return;\n    const business = user.businesses[0] as any; // Usar any temporalmente para evitar errores de tipo\n    const root = document.documentElement;\n    const currentPrimary = getComputedStyle(root).getPropertyValue('--primary-color').trim();\n    const currentSecondary = getComputedStyle(root).getPropertyValue('--secondary-color').trim();\n    const currentTertiary = getComputedStyle(root).getPropertyValue('--tertiary-color').trim();\n    const currentQuaternary = getComputedStyle(root).getPropertyValue('--quaternary-color').trim();\n    const currentNavbarImage = getComputedStyle(root).getPropertyValue('--navbar-image').trim();\n    const targetPrimary = business.primary_color || '';\n    const targetSecondary = business.secondary_color || '';\n    const targetTertiary = business.tertiary_color || '';\n    const targetQuaternary = business.quaternary_color || '';\n    const targetNavbarImage = business.navbar_image_url ? `url(${business.navbar_image_url})` : '';\n    // Si no coincide con el negocio, reestablecer\n    if (targetPrimary && currentPrimary !== targetPrimary) {\n      root.style.setProperty('--primary-color', targetPrimary);\n    }\n    if (targetSecondary && currentSecondary !== targetSecondary) {\n      root.style.setProperty('--secondary-color', targetSecondary);\n    }\n    if (targetTertiary && currentTertiary !== targetTertiary) {\n      root.style.setProperty('--tertiary-color', targetTertiary);\n    }\n    if (targetQuaternary && currentQuaternary !== targetQuaternary) {\n      root.style.setProperty('--quaternary-color', targetQuaternary);\n    }\n    if (targetNavbarImage && currentNavbarImage !== targetNavbarImage) {\n      root.style.setProperty('--navbar-image', targetNavbarImage);\n    }\n  }, []);\n\n  // Funci√≥n para inicializar la aplicaci√≥n (se ejecuta UNA SOLA VEZ)\n  const initializeApp = useCallback(async () => {\n    if (initializationRef.current) {\n      console.log('üîÑ AppContext: Ya est√° inicializado, saltando...');\n      return;\n    }\n\n    // Protecci√≥n adicional contra re-inicializaci√≥n\n    if (isLoading) {\n      console.log('üîÑ AppContext: Ya est√° cargando, saltando...');\n      return;\n    }\n\n    console.log('üöÄ AppContext: Inicializando aplicaci√≥n...');\n    console.log('üîç AppContext: Estado actual:', {\n      isAuthenticated,\n      authUser: !!authUser,\n      authPermissions: !!authPermissions,\n      authLoading,\n      authError\n    });\n    \n    setIsLoading(true);\n\n    try {\n      // 1. Inicializar autenticaci√≥n usando Server Actions\n      console.log('üîç AppContext: Llamando a initializeAuth...');\n      await initializeAuth();\n      console.log('‚úÖ AppContext: initializeAuth completado');\n      \n      // 2. Usar informaci√≥n del usuario del hook de autenticaci√≥n\n      if (authUser) {\n        console.log('‚úÖ AppContext: Usuario autenticado encontrado');\n        setUser(authUser);\n        applyBusinessTheme(authUser);\n      }\n\n      // 3. Procesar permisos del hook de autenticaci√≥n\n      if (authPermissions) {\n        console.log('üîç AppContext: Procesando permisos...');\n        let userPermissions: string[] = [];\n\n        // Procesar la estructura correcta del backend: resources.actions\n        if (authPermissions.resources && Array.isArray(authPermissions.resources)) {\n          authPermissions.resources.forEach((resource: any) => {\n            if (resource.actions && Array.isArray(resource.actions)) {\n              resource.actions.forEach((action: any) => {\n                if (action.code) {\n                  userPermissions.push(action.code);\n                }\n              });\n            }\n          });\n        }\n\n        // Tambi√©n agregar permisos directos si existen\n        if (authPermissions.permissions && Array.isArray(authPermissions.permissions)) {\n          authPermissions.permissions.forEach((permission: any) => {\n            if (permission.code) {\n              userPermissions.push(permission.code);\n            }\n          });\n        }\n\n        setPermissions(userPermissions);\n        console.log('‚úÖ AppContext: Permisos cargados desde Server Actions:', userPermissions);\n      }\n\n      setIsInitialized(true);\n      initializationRef.current = true; // Marcar como inicializado\n      console.log('‚úÖ AppContext: Aplicaci√≥n inicializada correctamente');\n\n    } catch (error) {\n      console.error('‚ùå AppContext: Error durante la inicializaci√≥n:', error);\n      if (authError) {\n        console.error('‚ùå AppContext: Error de autenticaci√≥n:', authError);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isLoading, initializeAuth, applyBusinessTheme, isAuthenticated, authUser, authPermissions, authLoading, authError]);\n\n  // Inicializar aplicaci√≥n cuando el hook de autenticaci√≥n est√© listo\n  useEffect(() => {\n    // Solo inicializar UNA SOLA VEZ cuando no est√© inicializado\n    if (!initializationRef.current && !authLoading && !authError) {\n      console.log('üîç AppContext: Condiciones cumplidas, iniciando...');\n      initializeApp();\n    } else {\n      console.log('üîç AppContext: Saltando inicializaci√≥n:', {\n        isInitialized: initializationRef.current,\n        authLoading,\n        authError: !!authError\n      });\n    }\n  }, [initializationRef.current, authLoading, authError, initializeApp]);\n\n  // Sincronizar loading del hook de autenticaci√≥n (SIMPLIFICADO)\n  useEffect(() => {\n    if (authLoading && !isLoading) {\n      setIsLoading(true);\n    } else if (!authLoading && isLoading && !initializationRef.current) {\n      setIsLoading(false);\n    }\n  }, [authLoading, isLoading, initializationRef.current]);\n\n  // Sincronizar estado del hook de autenticaci√≥n (UNA SOLA VEZ)\n  useEffect(() => {\n    console.log('üîÑ [AppContext] useEffect - Sincronizando usuario:', {\n      authUser: !!authUser,\n      user: !!user,\n      shouldUpdate: authUser && !user\n    });\n    \n    if (authUser && !user) {\n      console.log('‚úÖ [AppContext] Actualizando usuario del contexto');\n      setUser(authUser);\n      applyBusinessTheme(authUser);\n    }\n  }, [authUser, user, applyBusinessTheme]);\n\n  // Sincronizar permisos del hook de autenticaci√≥n (UNA SOLA VEZ)\n  useEffect(() => {\n    console.log('üîÑ [AppContext] useEffect - Sincronizando permisos:', {\n      authPermissions: !!authPermissions,\n      permissions: permissions.length,\n      shouldUpdate: authPermissions && permissions.length === 0\n    });\n    \n    if (authPermissions) {\n      console.log('‚úÖ [AppContext] Actualizando permisos del contexto');\n      console.log('üìä [AppContext] Estructura de authPermissions:', {\n        hasResources: !!(authPermissions.resources && authPermissions.resources.length > 0),\n        hasPermissions: !!(authPermissions.permissions && authPermissions.permissions.length > 0),\n        hasRoles: !!(authPermissions.roles && authPermissions.roles.length > 0),\n        resourcesCount: authPermissions.resources?.length || 0,\n        permissionsCount: authPermissions.permissions?.length || 0,\n        rolesCount: authPermissions.roles?.length || 0\n      });\n      \n      // Agregar logging detallado de authPermissions\n      console.log('üîç [AppContext] authPermissions completo:', JSON.stringify(authPermissions, null, 2));\n      \n      let userPermissions: string[] = [];\n\n      // Procesar la estructura correcta del backend: resources.actions\n      if (authPermissions.resources && Array.isArray(authPermissions.resources)) {\n        console.log('üîç [AppContext] Procesando resources.actions...');\n        authPermissions.resources.forEach((resource: any) => {\n          if (resource.actions && Array.isArray(resource.actions)) {\n            resource.actions.forEach((action: any) => {\n              if (action.code) {\n                userPermissions.push(action.code);\n                console.log('‚úÖ [AppContext] Permiso agregado:', action.code);\n              }\n            });\n          }\n        });\n      }\n\n      // Tambi√©n agregar permisos directos si existen\n      if (authPermissions.permissions && Array.isArray(authPermissions.permissions)) {\n        console.log('üîç [AppContext] Procesando permissions directos...');\n        authPermissions.permissions.forEach((permission: any) => {\n          if (permission.code) {\n            userPermissions.push(permission.code);\n            console.log('‚úÖ [AppContext] Permiso directo agregado:', permission.code);\n          }\n        });\n      }\n\n      setPermissions(userPermissions);\n      console.log('‚úÖ [AppContext] Permisos sincronizados desde Server Actions:', userPermissions);\n    } else {\n      console.log('‚ùå [AppContext] No hay authPermissions disponibles');\n    }\n  }, [authPermissions]);\n\n  // Funci√≥n para actualizar usuario\n  const updateUser = useCallback((userData: Partial<User>) => {\n    setUser(prev => {\n      if (!prev) return prev;\n      const updatedUser = { ...prev, ...userData };\n      applyBusinessTheme(updatedUser);\n      return updatedUser;\n    });\n  }, [applyBusinessTheme]);\n\n  // Funci√≥n para limpiar aplicaci√≥n\n  const clearApp = useCallback(() => {\n    setUser(null);\n    setPermissions([]);\n    setIsInitialized(false);\n    setIsLoading(false);\n    initializationRef.current = false; // Resetear el flag\n  }, []);\n\n  // Funci√≥n para verificar permisos (usar Server Actions)\n  const hasPermission = useCallback((permission: string): boolean => {\n    return serverHasPermission(permission);\n  }, [serverHasPermission]);\n\n  // Funci√≥n para verificar si es super admin (usar Server Actions)\n  const isSuperAdmin = useCallback((): boolean => {\n    return serverIsSuperAdmin();\n  }, [serverIsSuperAdmin]);\n\n  // Memoizar contexto para evitar re-renderizados innecesarios\n  const contextValue = useMemo(() => ({\n    user,\n    permissions,\n    isLoading,\n    isInitialized,\n    initializeApp,\n    updateUser,\n    clearApp,\n    hasPermission,\n    isSuperAdmin\n  }), [\n    user,\n    permissions,\n    isLoading,\n    isInitialized,\n    initializeApp,\n    updateUser,\n    clearApp,\n    hasPermission,\n    isSuperAdmin\n  ]);\n\n  return (\n    <AppContext.Provider value={contextValue}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\n// Hook personalizado para usar el contexto\nexport const useAppContext = () => {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error('useAppContext debe ser usado dentro de AppProvider');\n  }\n  return context;\n};\n\nexport default AppContext; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1237, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = require(\"next/dist/compiled/react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1444, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/node_modules/next/dist/compiled/react/jsx-dev-runtime.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-dev-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-dev-runtime.development.js');\n}\n"],"names":[],"mappings":"AAEI;AAFJ;AAEA;;KAEO;IACL,OAAO,OAAO;AAChB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":["file:///home/cam/Desktop/reserve/front/central-next-js/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}